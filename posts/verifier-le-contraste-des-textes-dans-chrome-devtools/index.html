<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Verifier le contraste des textes dans Chrome Devtools | Alexandre CANTIN - Blog personnel</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.92.1" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="alexandre, cantin, blog, personnel">
<meta name="description" content="Dans ses versions récentes (66 à la rédaction de cet article), Chrome permet de vérifier que nos textes disposent d’un contraste suffisant. En effet, dans …">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="stylesheet" type="text/css" media="screen" href="/css/normalize.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/css/main.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/css/all.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/css/custom.css" />




<meta property="og:title" content="Verifier le contraste des textes dans Chrome Devtools" />
<meta property="og:description" content="Dans ses versions récentes (66 à la rédaction de cet article), Chrome permet de vérifier que nos textes disposent d&rsquo;un contraste suffisant. En effet, dans le cadre du référentiel français d&rsquo;accessibilité (RGAA), le contraste des textes avec leur arrière-plan se doit d&rsquo;être a minima de 4,5.
Exemple d&rsquo;un texte sur fond blanc Pour tester, le cas le plus classique, nous utiliserons un texte rose sur fond blanc.
&lt;body style=&#34;background-color: white&#34;&gt; &lt;p style=&#34;color: #ffc0cb&#34;&gt;Hello world&lt;/p&gt; &lt;/body&gt; En inspectant notre &lt;h1&gt; via la console de Google Chrome puis en cliquant sur le petit carré représentant notre rose, une pop-in s&rsquo;ouvre alors." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/verifier-le-contraste-des-textes-dans-chrome-devtools/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-04-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-04-01T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Verifier le contraste des textes dans Chrome Devtools"/>
<meta name="twitter:description" content="Dans ses versions récentes (66 à la rédaction de cet article), Chrome permet de vérifier que nos textes disposent d&rsquo;un contraste suffisant. En effet, dans le cadre du référentiel français d&rsquo;accessibilité (RGAA), le contraste des textes avec leur arrière-plan se doit d&rsquo;être a minima de 4,5.
Exemple d&rsquo;un texte sur fond blanc Pour tester, le cas le plus classique, nous utiliserons un texte rose sur fond blanc.
&lt;body style=&#34;background-color: white&#34;&gt; &lt;p style=&#34;color: #ffc0cb&#34;&gt;Hello world&lt;/p&gt; &lt;/body&gt; En inspectant notre &lt;h1&gt; via la console de Google Chrome puis en cliquant sur le petit carré représentant notre rose, une pop-in s&rsquo;ouvre alors."/>

<meta itemprop="name" content="Verifier le contraste des textes dans Chrome Devtools">
<meta itemprop="description" content="Dans ses versions récentes (66 à la rédaction de cet article), Chrome permet de vérifier que nos textes disposent d&rsquo;un contraste suffisant. En effet, dans le cadre du référentiel français d&rsquo;accessibilité (RGAA), le contraste des textes avec leur arrière-plan se doit d&rsquo;être a minima de 4,5.
Exemple d&rsquo;un texte sur fond blanc Pour tester, le cas le plus classique, nous utiliserons un texte rose sur fond blanc.
&lt;body style=&#34;background-color: white&#34;&gt; &lt;p style=&#34;color: #ffc0cb&#34;&gt;Hello world&lt;/p&gt; &lt;/body&gt; En inspectant notre &lt;h1&gt; via la console de Google Chrome puis en cliquant sur le petit carré représentant notre rose, une pop-in s&rsquo;ouvre alors."><meta itemprop="datePublished" content="2020-04-01T00:00:00+00:00" />
<meta itemprop="dateModified" content="2020-04-01T00:00:00+00:00" />
<meta itemprop="wordCount" content="592">
<meta itemprop="keywords" content="" />
</head>
<body>
<header>
<div id="titletext">
<h2 id="titleonly"><a href="">Alexandre CANTIN - Blog personnel</a></h2>
</div>
<div id="title-social">
<div id="social">
<nav><ul>
<li><a href="/https:/twitter.com/Cantin_Al"><i title="Twitter" class="icons fab fa-twitter"></i></a></li>
<li><a><i title="Switch Dark Mode" class="dark-mode icons fas fa-moon"></i></a></li>
</ul></nav>
</div>
</div>
</header>
<main>
<div class="post">
<article>
<div class="post-header">
<div class="meta">
<div class="date">
<span class="day">01</span>
<span class="rest">Apr 2020</span>
</div>
</div>
<div class="matter">
<h1 class="title">Verifier le contraste des textes dans Chrome Devtools</h1>
<p class="post-meta">
<span class="post-meta">

&nbsp;<i class="fas fa-clock"></i>&nbsp;3&nbsp;minutes


 
&nbsp;| &nbsp;

<i class="fas fa-book"></i>&nbsp;592&nbsp;words


</span>

</p>
</div>
</div>
<div class="markdown">
<p>Dans ses versions récentes (66 à la rédaction de cet article), Chrome permet de vérifier que nos textes disposent d&rsquo;un contraste suffisant. En effet, dans le cadre du référentiel français d&rsquo;accessibilité (<a href="https://references.modernisation.gouv.fr/rgaa-accessibilite/" target="_blank">RGAA</a>), le contraste des textes avec leur arrière-plan se doit d&rsquo;être a minima de 4,5.</p>
<h2 id="exemple-dun-texte-sur-fond-blanc">Exemple d&rsquo;un texte sur fond blanc</h2>
<p>Pour tester, le cas le plus classique, nous utiliserons un texte rose sur fond blanc.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">body</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;background-color: white&#34;</span>&gt;
  &lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color: #ffc0cb&#34;</span>&gt;Hello world&lt;/<span style="color:#f92672">p</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
</code></pre></div><p>En inspectant notre <code>&lt;h1&gt;</code> via la console de Google Chrome puis en cliquant sur le petit carré représentant notre rose, une pop-in s&rsquo;ouvre alors. Cette dernière nous permet de modifier la couleur de l&rsquo;élément mais nous affiche aussi son contraste avec le blanc en arrière-plan (champ <code>Contrast ratio</code>). Une petite icône nous indique alors si le score est suffisant ou non.</p>
<p><figure>
  <img src="/articles/chrome-devtools/pink_color.png" alt=""  />
</figure></p>
<p>En dépliant ce bloc, la console nous indique alors le score minimal nécessaire suivant le niveau d&rsquo;accessibilité visé (de A à AAA) et si ce niveau est atteint.</p>
<p><strong>Note : Chrome DevTools se base sur le référentiel américain d&rsquo;accessibilté, nommé WCAG (pour <em>Web Content Accessibility Guidelines</em>). Toutefois, les règles de contraste sont équivalentes à celles du RGAA.</strong></p>
<p>En dépliant ce bloc, une ligne apparaît aussi sur la palette de couleurs pour nous indiquer la zone où notre couleur devra se situer pour être accessible.</p>
<p><figure>
  <img src="/articles/chrome-devtools/pink_contrast.png" alt=""  />
</figure></p>
<p>Pour terminer, si la couleur de fond n&rsquo;a pas pu être déterminée par la console de Google Chrome, il est possible de choisir nous-même cette couleur via un <strong>colorpicker</strong>.</p>
<h2 id="tout-vérifier-soi-même--lighthouse-à-la-rescousse-"><strong>Tout vérifier soi-même ? LightHouse à la rescousse !</strong></h2>
<p>Vérifier le contraste de tous ces éléments HTML serait fastidieux. Toutefois, Chrome a prévu le coup et nous permet de l&rsquo;automatiser via <strong>Lighthouse</strong>, son outil d&rsquo;analyse de sites web.</p>
<p><figure>
  <img src="/articles/chrome-devtools/audit.png" alt=""  />
</figure></p>
<p>Disponible dans l&rsquo;onglet Audits, <strong>LightHouse</strong> permet d&rsquo;analyser plusieurs facettes de notre site dont l&rsquo;accessibilité. Et, d&rsquo;ailleurs, une fois l&rsquo;audit d&rsquo;accessibilité réalisé, le compte-rendu nous indique bien que la balise <code>&lt;p&gt;</code> ne dispose pas d&rsquo;un ratio suffisant.</p>
<p><figure>
  <img src="/articles/chrome-devtools/audit_contrast.png" alt=""  />
</figure></p>
<hr>
<h2 id="bonus--comment-est-calculé-le-contraste-"><strong>Bonus : comment est calculé le contraste ?</strong></h2>
<p>Nous allons ici éclaircir le calcul derrière le contraste de 1.54 obtenu dans Google Chrome.</p>
<p>Tout d&rsquo;abord, nous sommes en présence de deux couleurs :</p>
<ul>
<li>le rose : #ffc0cb, soit rgb(255, 192, 203)</li>
<li>le blanc : #fffff soit rgb(255, 255, 255)</li>
</ul>
<h3 id="première-étape"><strong>Première étape</strong></h3>
<p>On divise toutes les couleurs par 255. Nous obtenons donc :</p>
<ul>
<li>pour le rose : R=255/255=<code>1</code> || G=192/255=<code>0.753</code> || B=203/255=<code>0.796</code></li>
<li>pour le blanc : R=255/255=<code>1</code> || G=255/255=<code>1</code> || B=255/255=<code>1</code></li>
</ul>
<h3 id="deuxième-étape"><strong>Deuxième étape</strong></h3>
<p>Le calcul dépend de la valeur de la première étape :</p>
<ul>
<li>si la valeur est inférieure à 0.03928, on la divise par 12.92</li>
<li>sinon on applique la formule suivante : ((Val + 0.055)/1.055)<!-- raw HTML omitted -->2.4<!-- raw HTML omitted --></li>
</ul>
<p>On obtient ainsi :</p>
<ul>
<li>pour le rose : R=<code>1</code> || G=<code>0.5272</code> || B=<code>0.5971</code></li>
<li>pour le blanc : R=<code>1</code> || G=<code>1</code> || B=<code>1</code></li>
</ul>
<h3 id="troisième-étape"><strong>Troisième étape</strong></h3>
<p>A cette étape, nous obtenons la luminance relative de notre couleur en appliquant la formule : <code>L = 0.2126 * R + 0.7152 * G + 0.0722 * B</code> où R,G et B sont les valeurs déterminées à l&rsquo;étape 2.</p>
<ul>
<li>pour le rose : L<!-- raw HTML omitted -->rose<!-- raw HTML omitted --> = 0.2126 _ 1 + 0.7152 _ 0.5272 + 0.0722 * 0.5971 = <code>0.6328</code></li>
<li>pour le blanc : L<!-- raw HTML omitted -->blanc<!-- raw HTML omitted --> = 0.2126 _ 1 + 0.7152 _ 1 + 0.0722 * 1 = <code>1</code></li>
</ul>
<h3 id="dernière-étape-"><strong>Dernière étape !</strong></h3>
<p>Maintenant que nous avons, les deux luminances relatives, nous ajoutons 0.05 aux deux valeurs puis divisons la plus grande valeur par la plus petite.</p>
<p>Constraste = (1+0.05) / (0.6327+0.05) = <code>1.53801</code> = <code>1.54</code> (environ)</p>
<p>Nous retombons ainsi sur le même contraste que sur la console de Google Chrome (encore heureux !)</p>

</div>
</div>
</article>
</div>
</main><script src="/js/dark-mode.js"></script>

</body>
</html>
