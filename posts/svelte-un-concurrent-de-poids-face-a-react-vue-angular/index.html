<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Svelte : un concurrent de poids face √† React-Vue-Angular ? | Alexandre CANTIN - Blog personnel</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.92.1" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="alexandre, cantin, blog, personnel">
<meta name="description" content="Svelte bouscule l‚Äô√©co-syst√®me des librairies JavaScript actuellement domin√© par le trio React, Vue et Angular. Mais que vaut Svelte compar√© √† ces ‚Ä¶">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="stylesheet" type="text/css" media="screen" href="/css/normalize.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/css/main.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/css/all.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/css/custom.css" />




<meta property="og:title" content="Svelte : un concurrent de poids face √† React-Vue-Angular ?" />
<meta property="og:description" content="Svelte bouscule l‚Äô√©co-syst√®me des librairies JavaScript actuellement domin√© par le trio React, Vue et Angular. Mais que vaut Svelte compar√© √† ces ‚Äúconcurrents‚Äù et pourquoi parvient-il √† s√©duire de plus en plus de d√©veloppeurs ? R√©ponse dans cet article !
Cet article est une transcription de ma pr√©sentation de Svelte r√©alis√©e le 2 juin 2020 dans le cadre du 10√®me SFEIR Talk, dont la vid√©o est disponible en fin d‚Äôarticle. J‚Äôai toutefois pris la libert√© d‚Äôajouter des explications suppl√©mentaires que je ne pouvais faire √† l‚Äôoral pour des contraintes de temps; ainsi que les questions post-pr√©sentation." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://alexandrecantin.github.io/posts/svelte-un-concurrent-de-poids-face-a-react-vue-angular/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-02T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-08-02T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Svelte : un concurrent de poids face √† React-Vue-Angular ?"/>
<meta name="twitter:description" content="Svelte bouscule l‚Äô√©co-syst√®me des librairies JavaScript actuellement domin√© par le trio React, Vue et Angular. Mais que vaut Svelte compar√© √† ces ‚Äúconcurrents‚Äù et pourquoi parvient-il √† s√©duire de plus en plus de d√©veloppeurs ? R√©ponse dans cet article !
Cet article est une transcription de ma pr√©sentation de Svelte r√©alis√©e le 2 juin 2020 dans le cadre du 10√®me SFEIR Talk, dont la vid√©o est disponible en fin d‚Äôarticle. J‚Äôai toutefois pris la libert√© d‚Äôajouter des explications suppl√©mentaires que je ne pouvais faire √† l‚Äôoral pour des contraintes de temps; ainsi que les questions post-pr√©sentation."/>

<meta itemprop="name" content="Svelte : un concurrent de poids face √† React-Vue-Angular ?">
<meta itemprop="description" content="Svelte bouscule l‚Äô√©co-syst√®me des librairies JavaScript actuellement domin√© par le trio React, Vue et Angular. Mais que vaut Svelte compar√© √† ces ‚Äúconcurrents‚Äù et pourquoi parvient-il √† s√©duire de plus en plus de d√©veloppeurs ? R√©ponse dans cet article !
Cet article est une transcription de ma pr√©sentation de Svelte r√©alis√©e le 2 juin 2020 dans le cadre du 10√®me SFEIR Talk, dont la vid√©o est disponible en fin d‚Äôarticle. J‚Äôai toutefois pris la libert√© d‚Äôajouter des explications suppl√©mentaires que je ne pouvais faire √† l‚Äôoral pour des contraintes de temps; ainsi que les questions post-pr√©sentation."><meta itemprop="datePublished" content="2021-08-02T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-08-02T00:00:00+00:00" />
<meta itemprop="wordCount" content="4568">
<meta itemprop="keywords" content="" />
</head>
<body>
<header>
<div id="titletext">
<h2 id="titleonly"><a href="https://alexandrecantin.github.io/">Alexandre CANTIN - Blog personnel</a></h2>
</div>
<div id="title-social">
<div id="social">
<nav><ul>
<li><a href="https://twitter.com/Cantin_Al"><i title="Twitter" class="icons fab fa-twitter"></i></a></li>
<li><a><i title="Switch Dark Mode" class="dark-mode icons fas fa-moon"></i></a></li>
</ul></nav>
</div>
</div>
</header>
<main>
<div class="post">
<article>
<div class="post-header">
<div class="meta">
<div class="date">
<span class="day">02</span>
<span class="rest">Aug 2021</span>
</div>
</div>
<div class="matter">
<h1 class="title">Svelte : un concurrent de poids face √† React-Vue-Angular ?</h1>
<p class="post-meta">
<span class="post-meta">

&nbsp;<i class="fas fa-clock"></i>&nbsp;22&nbsp;minutes


 
&nbsp;| &nbsp;

<i class="fas fa-book"></i>&nbsp;4568&nbsp;words


</span>

</p>
</div>
</div>
<div class="markdown">
<p>Svelte bouscule l‚Äô√©co-syst√®me des librairies JavaScript actuellement domin√© par le trio React, Vue et Angular. Mais que vaut Svelte compar√© √† ces ‚Äúconcurrents‚Äù et pourquoi parvient-il √† s√©duire de plus en plus de d√©veloppeurs ? R√©ponse dans cet article !</p>
<p>Cet article est une transcription de ma pr√©sentation de Svelte r√©alis√©e le 2 juin 2020 dans le cadre du 10√®me SFEIR Talk, dont la vid√©o est disponible en fin d‚Äôarticle. J‚Äôai toutefois pris la libert√© d‚Äôajouter des explications suppl√©mentaires que je ne pouvais faire √† l‚Äôoral pour des contraintes de temps; ainsi que les questions post-pr√©sentation.</p>
<p>Allons-y !</p>
<h2 id="1--pourquoi-svelte-">1- Pourquoi Svelte ?</h2>
<p>Nous allons commencer par la question la plus basique qui soit : qu‚Äôest-ce que Svelte ?</p>
<p><a href="https://svelte.dev/" target="_blank">Svelte</a> est un ‚Äúcompilateur <em>front</em>‚Äù qui permet de cr√©er des pages web dynamiques comme nous le faisons d√©j√† avec Angular-React-Vue.js (ou d‚Äôautres biblioth√®ques/frameworks dans le monde tr√®s ‚Äî voire trop ‚Äî vaste du JavaScript).</p>
<p>Pour d√©signer Svelte, j‚Äôai utilis√© le terme de ‚Äúcompilateur front‚Äù et, en effet, contrairement √† React-Vue-Angular, qui embarquent des librairies dans le navigateur du client, Svelte est un compilateur et, comme on va le voir, cela va changer pas mal de choses üôÇ</p>
<h3 id="11--pourquoi-svelte-est-un-compilateur-">1.1 ‚Äî Pourquoi Svelte est un compilateur ?</h3>
<p>Pour r√©pondre √† cette question, nous devons tout d‚Äôabord nous attarder sur l‚Äôorigine de Svelte et parler de son cr√©ateur Rich Harris (<a href="https://twitter.com/Rich_Harris" target="_blank">@Rich_Harris</a>).</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_1NDCpMUDlHcsg0QwTiJIQg.jpeg" alt="Rich Harris, le cr√©ateur de Svelte"  />
</figure></p>
<p>Rich Harris n‚Äôest pas un inconnu dans l‚Äôunivers du JavaScript car on le conna√Æt d√©j√† en tant que cr√©ateur de <a href="https://rollupjs.org/guide/en/" target="_blank"><em>Rollup</em></a>, une alternative √† <a href="https://webpack.js.org/" target="_blank"><em>Webpack</em></a>.</p>
<p>Aux alentours de 2016, Rich Harris travaille en tant que <em>graphics editors</em> (comprendre ‚Äúcr√©ateur de repr√©sentations graphiques‚Äù ou <em>Data Visualisation</em>) au <em>New York Times</em> (poste qu‚Äôil occupe toujours). Pour la r√©alisation de ses graphiques anim√©s, Rich Harris utilise √† cette √©poque <a href="https://reactjs.org/" target="_blank">React</a> et il en est tr√®s m√©content car il se heurte souvent aux limites des performances de cette biblioth√®que (et de son <em>Virtual DOM</em>), au point qu‚Äôil r√©fl√©chit √† d√©velopper sa propre alternative.</p>
<p>Qu‚Äôest-ce que Rich Harris reproche √† React et surtout √† son <em>Virtual DOM</em> ? Pour y r√©pondre, int√©ressons-nous au fonctionnement du Virtual DOM avec cet exemple simple d‚Äôun champ texte dont la valeur est recopi√©e dans une balise <code>&lt;p&gt;</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">React</span>, { <span style="color:#a6e22e">useState</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;react&#34;</span>;
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">App</span>() {
  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">setName</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>(<span style="color:#e6db74">&#34;&#34;</span>);
  <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">updateName</span>(<span style="color:#a6e22e">e</span>) {
    <span style="color:#a6e22e">setName</span>(<span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">value</span>);
  }
  <span style="color:#66d9ef">return</span> (
    <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">div</span><span style="color:#f92672">&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">h1</span><span style="color:#f92672">&gt;</span><span style="color:#a6e22e">Votre</span> <span style="color:#a6e22e">nom</span> <span style="color:#f92672">:&lt;</span><span style="color:#960050;background-color:#1e0010">/h1&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">p</span><span style="color:#f92672">&gt;</span>{<span style="color:#a6e22e">name</span>}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/p&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">onInput</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">updateName</span>} <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">name</span>} <span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/div&gt;</span>
  );
}
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">App</span>;
</code></pre></div><p>Et dont le r√©sultat serait le suivant :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_3sxYGeH4bzHmj6Grgp_ETQ.gif" alt=""  />
</figure></p>
<p>Si l‚Äôon s‚Äôint√©resse au fonctionnement de React en cas d‚Äô√©criture dans le champ texte, nous avons la succession d‚Äô√©v√®nements suivante :</p>
<ol>
<li>Cr√©ation d‚Äôun nouveau <em>Virtual DOM</em></li>
</ol>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_fkTrfHaWI0sNBWW_c48g-w.png" alt=""  />
</figure></p>
<ol start="2">
<li>Comparaison de l‚Äôancien <em>Virtual DOM</em> avec le nouveau pour d√©terminer les mises √† jour n√©cessaires</li>
</ol>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_0qpP3Zwlv3eS_u6G0b1r_w.png" alt=""  />
</figure></p>
<ol start="3">
<li>Mise √† jour effective du DOM</li>
</ol>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_CvL_w_GAtidbbPNQwD3q0g.png" alt=""  />
</figure></p>
<p>Comme on peut le voir √† l‚Äô√©tape 2, React a proc√©d√© √† 7 comparaisons alors que 2 d‚Äôentre elles n‚Äô√©taient r√©ellement n√©cessaires. Ce nombre de comparaisons augmentera d‚Äôailleurs proportionnellement √† la taille de notre projet et ralentira notre application au bout d‚Äôun certain moment ; nous imposant alors de recourir √† des proc√©d√©s d‚Äôoptimisation du Virtual DOM comme <em>PureComponent</em>, <em>useCallback</em>, <em>useMemo</em> ou encore <em>shouldComponentUpdate</em>.</p>
<p>Toutefois, nous serons tous d‚Äôaccord sur le fait que la solution id√©ale serait de passer directement de la modification du champ texte √† la mise √† jour du DOM, sans les √©tapes 1 et 2 :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_ARl9dEolEvk3H61AhXYBFA.gif" alt=""  />
</figure></p>
<p>Figurez-vous que c‚Äôest exactement l‚Äôobjectif vis√© par Svelte !</p>
<p>Malheureusement, d√©terminer l‚Äôensemble des cons√©quences sur le DOM est impossible sans une connaissance accrue de l‚Äôapplication et n√©cessiterait donc l‚Äôintervention au cas par cas du d√©veloppeur, occasionnant une charge de travail cons√©quente pour lui&hellip; üòî Ce fut d‚Äôailleurs la grande innovation apport√©e par React et Angular : automatisez la g√©n√©ration du DOM et limiter le travail du d√©veloppeur √† la modification de l‚Äô√©tat de ses variables.</p>
<p>Par cons√©quent, comment d√©terminer les actions minimales √† effectuer sur le DOM suite √† l‚Äôaction de l‚Äôutilisateur sans l‚Äôintervention du d√©veloppeur ? C‚Äôest l√† que le concept de compilateur prend tout son sens.</p>
<p>Ainsi, nous √©crirons nos composants dans des fichiers au format <code>.svelte</code>. Le compilateur Svelte va ensuite analyser notre code, le comprendre, d√©terminer les mises √† jour du DOM n√©cessaires apr√®s √† la modification d&rsquo;une variable et g√©n√©rer un fichier <code>.js</code> aux performances optimales :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_o5OFbfVTUoVjbs8p9I5DUg.gif" alt=""  />
</figure></p>
<h3 id="12--svelte-et-la-performance">1.2 ‚Äî Svelte et la performance</h3>
<p>Maintenant si on regarde le m√™me composant √©crit en Svelte, nous ne serons que peu d√©pays√©s par rapport √† son √©quivalent React :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
  <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">updateName</span>(<span style="color:#a6e22e">e</span>) {
    <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">value</span>;
  }
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">h1</span>&gt;Votre nom :&lt;/<span style="color:#f92672">h1</span>&gt;
&lt;<span style="color:#f92672">p</span>&gt;{name}&lt;/<span style="color:#f92672">p</span>&gt;
&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">on:input</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{updateName}&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{name}&#34;</span> /&gt;
</code></pre></div><p>Nous retrouvons la m√™me logique :</p>
<ul>
<li>une balise <code>&lt;p&gt;</code> affichant le contenu de la variable <code>name</code></li>
<li>un <code>&lt;input /&gt;</code> qui appelle une fonction <code>updateName</code> suite √† une action <code>on:input</code></li>
<li>une fonction <code>updateName</code> qui met √† jour la valeur de <code>name</code> avec le contenu de l&rsquo;input</li>
</ul>
<p>Et on obtient un r√©sultat similaire :
<figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_3sxYGeH4bzHmj6Grgp_ETQ.gif" alt=""  />
</figure></p>
<p>Toutefois, si on regarde le code source g√©n√©r√© par Svelte et notamment le bloc r√©serv√© √† la mise du DOM :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_SD8L2dhcPA4rgGY_is01VQ.png" alt=""  />
</figure></p>
<p>On remarque que seules deux op√©rations sur le DOM ont √©t√© cr√©√©es :</p>
<ul>
<li>celle de la mise √† jour de la balise <code>&lt;p&gt;</code> (correspondant √† une variable <code>t2</code>)</li>
<li>celle de la mise √† jour de l‚Äôattribut <code>value</code> de l&rsquo;input</li>
</ul>
<p>De plus, ces deux op√©rations sont optimales : les valeurs sont mises √† jour directement sans actions interm√©diaires. On obtient ainsi une performance maximale, impossible en React.</p>
<blockquote>
<p>‚ö†Ô∏è N‚Äôinterpr√©tez pas mal mes paroles : je n‚Äôai pas dit que React est lent. Svelte explore simplement une autre voie lui permettant d‚Äôaller plus loin en termes de performance üôÇ.</p>
</blockquote>
<h3 id="13--svelte-et-le-sucre-syntaxique">1.3 ‚Äî Svelte et le sucre syntaxique</h3>
<p>Toutefois, soyons honn√™te, nous nous retrouvons tr√®s rarement dans le cas o√π des performances extr√™mes sont requises et choisir Svelte juste pour cela serait peu pertinent. Mais l‚Äôapproche compilateur apporte un autre avantage qui est le ‚Äúsucre syntaxique‚Äù.</p>
<p>Il s‚Äôagit d‚Äôun ensemble de raccourcis (pas des centaines rassurez-vous üôÇ) qui va vous permettre d‚Äô√©crire moins de code et b√©n√©ficier de tous les avantages que cela implique : moins de code √† produire (et donc une am√©lioration de votre productivit√©) mais aussi moins de code √† maintenir et comprendre.</p>
<p>Par exemple, en partant du code pr√©c√©dent, il est possible de le raccourcir en liant directement la valeur de l‚Äôattribut <code>value</code> de l&rsquo;input avec la variable <code>name</code> via une directive appel√©e <code>bind</code>.</p>
<p>Il est donc possible de simplifier l‚Äôexemple pr√©c√©dent en retirant le <code>on:input={updateName}</code> et la fonction <code>updateName</code> par la m√™me occasion. Nous obtenons ainsi le m√™me r√©sultat mais en plus court :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">h1</span>&gt;Votre nom :&lt;/<span style="color:#f92672">h1</span>&gt;
&lt;<span style="color:#f92672">p</span>&gt;{name}&lt;/<span style="color:#f92672">p</span>&gt;
&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#960050;background-color:#1e0010">**</span><span style="color:#a6e22e">bind:</span><span style="color:#960050;background-color:#1e0010">**</span><span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{name}&#34;</span> /&gt;
</code></pre></div><p>C‚Äôest une raison, si ce n‚Äôest la raison, qui explique l‚Äôappr√©ciation de Svelte aupr√®s des d√©veloppeurs, car on √©crit tout simplement moins de code et on est par cons√©quent plus productif üôÇ</p>
<p>Voici, par ailleurs, la comparaison d‚Äôun m√™me composant, r√©alisant l‚Äôaddition entre deux nombres puis affichant le r√©sultat, et on ne peut que constater que la version de Svelte est plus l√©g√®re :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_CCaPfes8QkkpjWNKx6H_kA.png" alt=""  />
</figure></p>
<p>Selon Rich Harris, un composant Svelte est en moyenne 20‚Äì30% moins long que son √©quivalent React.</p>
<h2 id="14--svelte-et-le-poids-du-bundle">1.4 ‚Äî Svelte et le poids du bundle</h2>
<p>Dernier point important concernant Svelte est le fait qu‚Äôil produise un <em>bundle</em> final avec un poids tr√®s faible. En effet, bien que Svelte p√®se environ 50 Ko dans son ensemble, seules les fonctions utilis√©es seront incluses dans le <em>bundle</em> final. Ainsi, contrairement √† Angular-React-Vue, nous n‚Äôavons pas une librairie pr√©-inclue qui alourdit notre application avant m√™me que le moindre code n‚Äôy soit inclus.</p>
<p>Ainsi, dans l‚Äôexemple pr√©c√©dent, nous nous retrouvons avec un poids global de 3,1 Ko (sans compression).</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_hmnTwDMJbb1Er1lyaVoXHA.png" alt=""  />
</figure></p>
<p>D‚Äôailleurs, si on s‚Äôint√©resse au <code>package.json</code> du template par d√©faut d&rsquo;un projet <a href="https://github.com/sveltejs/template/blob/master/package.json" target="_blank">Svelte</a>, on remarque qu&rsquo;il n&rsquo;y a que des paquets servant pour le d√©veloppement et aucun n&rsquo;est conserv√© dans le bundle de production :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_rVPWIbg5xPqJIC2b2FGHTg.png" alt=""  />
</figure></p>
<p>Note : le package <code>sirv-cli</code> sert comme serveur de fichier et peut donc √™tre d√©plac√© dans les <code>devDependencies</code> sans souci üôÇ (mais doit toutefois √™tre conserv√© pour l&rsquo;environnement de d√©veloppement).</p>
<p>Comme nous venons de le voir dans cette partie, Svelte se distingue sur trois aspects :</p>
<ul>
<li>Performance accrue</li>
<li>Un poids final r√©duit</li>
<li>&hellip;le tout avec moins de code</li>
</ul>
<p>Je pourrais m√™me ajouter un quatri√®me point qui serait sa simplicit√©. En effet, une des volont√©s derri√®re Svelte, est de se rapprocher le plus possible du HTML et laisser toute la complexit√© √™tre g√©r√©e par le compilateur (optimisation et impl√©mentation des raccourcis syntaxiques).</p>
<hr>
<h2 id="2--tour-dhorizon-de-svelte">2 ‚Äî Tour d‚Äôhorizon de Svelte</h2>
<p>Nous allons dor√©navant proc√©der √† un tour d‚Äôhorizon des fonctionnalit√©s propos√©es par Svelte, forc√©ment non exhaustif.</p>
<h3 id="21--anatomie-dun-composant">2.1 ‚Äî Anatomie d‚Äôun composant</h3>
<p>Un composant Svelte se divise en trois parties :</p>
<ul>
<li><code>&lt;script&gt;</code> pour la partie logique, pour les fonctions et les variables</li>
<li><code>&lt;style&gt;</code> pour la partie design</li>
</ul>
<p>Tout le reste sera consid√©r√© comme la partie template et sera donc destin√© √† accueillir (majoritairement) du HTML
<figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_0RKJQ4yrITW93CAuytNODA.png" alt=""  />
</figure></p>
<p>Ici, la volont√© est d‚Äô√™tre le plus proche possible d‚Äôun fichier HTML tout en gardant que le strict n√©cessaire. En ajoutant, les balises <code>html</code>, <code>head</code> et <code>body</code>, on pourrait m√™me se croire √† l&rsquo;int√©rieur d&rsquo;un fichier HTML :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_lriOOUkFuc6a1cY55Xgb9w.png" alt=""  />
</figure></p>
<blockquote>
<p>‚ö†Ô∏è <strong>Est-il possible de r√©partir ces trois zones dans des fichiers distincts ?</strong> Non, ce n‚Äôest pas possible et ce n‚Äôest pas dans la philosophie de Svelte. Bien que la logique de s√©paration des diff√©rents blocs puisse √™tre louable, cela cr√©ait un effet de bord. Il devient possible d‚Äôinclure un m√™me style ou logique dans des composants diff√©rents et entra√Æne un souci qu‚Äôon rencontre tr√®s souvent (notamment en CSS) : on ne sait plus si un bloc de code est utilis√© ou non au sein de son application. Pour pallier √† cela, Svelte impose que les fonctions/style co-habitent avec leur template pour mieux suivre leur zone d‚Äôimpact.</p>
</blockquote>
<h3 id="22--style">2.2 ‚Äî Style</h3>
<p>Vous savez faire du CSS ? Bonne nouvelle, vous savez donc d√©j√† designer vos composants Svelte ! En effet, Svelte accepte du CSS natif dans le bloc <code>&lt;style&gt;</code> (un support de Sass ou Less reste toutefois possible) :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_dvOa9AhhgzJsN2iHnM_xXA.png" alt=""  />
</figure></p>
<p>Toutefois, le compilateur Svelte va encapsuler ce style avec une classe CSS g√©n√©r√©e al√©atoirement, pour s‚Äôassurer que votre style n‚Äôaffectera pas d‚Äôautres composants :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_SItiqptpoqSk5lo3t93hLQ.png" alt=""  />
</figure></p>
<h3 id="23--templating">2.3 ‚Äî Templating</h3>
<h4 id="231--conditions">2.3.1 ‚Äî Conditions</h4>
<p>Svelte nous permet bien entendu de modifier le rendu du composant en fonction de conditions exprim√©es entre accolades :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">number</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
&lt;/<span style="color:#f92672">script</span>&gt;
{#if number &lt; <span style="color:#f92672">0</span> <span style="color:#960050;background-color:#1e0010">}</span>
<span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">p</span>&gt;N√©gatif&lt;/<span style="color:#f92672">p</span>&gt;
{:else if number &gt; 0 }
&lt;<span style="color:#f92672">p</span>&gt;Positif&lt;/<span style="color:#f92672">p</span>&gt;
{:else}
&lt;<span style="color:#f92672">p</span>&gt;√âgal √† 0&lt;/<span style="color:#f92672">p</span>&gt;
{/if}
</code></pre></div><p>Ces conditions respectent les m√™mes r√®gles d‚Äô√©criture que celles du JavaScript.</p>
<h4 id="232--boucles">2.3.2 ‚Äî Boucles</h4>
<p>Il est aussi possible d‚Äôit√©rer √† travers une collection via <code>{#each myCollection as myValue, index}</code></p>
<p>√Ä noter que Svelte pr√©voit aussi une alternative <code>{:else}</code> afin de g√©rer plus facilement le cas o√π notre collection serait vide.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">numbers</span> <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>];
&lt;/<span style="color:#f92672">script</span>&gt;
{#each numbers as number, index}
&lt;<span style="color:#f92672">p</span>&gt;{index} =&gt; {number}&lt;/<span style="color:#f92672">p</span>&gt;
{:else}
&lt;<span style="color:#f92672">p</span>&gt;Liste vide&lt;/<span style="color:#f92672">p</span>&gt;
{/each}
</code></pre></div><p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_FlTtfttcm-y4X5QDVCBsHQ.png" alt=""  />
</figure></p>
<p>Le <em>destructuring</em> est aussi possible directement apr√®s le <code>as</code> :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> [
    { <span style="color:#a6e22e">year</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2019&#34;</span>, <span style="color:#a6e22e">count</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;30&#34;</span> },
    { <span style="color:#a6e22e">year</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2020&#34;</span>, <span style="color:#a6e22e">count</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;35&#34;</span> },
  ];
&lt;/<span style="color:#f92672">script</span>&gt;
{#each data as { year, count }}
&lt;<span style="color:#f92672">p</span>&gt;{year} =&gt; {count}&lt;/<span style="color:#f92672">p</span>&gt;
{/each}
</code></pre></div><p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_9IaTxxry2DHM4RaRZrDA7g.png" alt=""  />
</figure></p>
<h4 id="233--promesses">2.3.3 ‚Äî Promesses</h4>
<p>Svelte met aussi √† disposition une syntaxe <code>{#await}</code> faisant varier l&rsquo;affichage d&rsquo;un composant en fonction du statut d&rsquo;une promesse (en cours, termin√©e ou √©chou√©e) :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">{#await promise}
&lt;<span style="color:#f92672">p</span>&gt;...&lt;/<span style="color:#f92672">p</span>&gt;
{:then number}
&lt;<span style="color:#f92672">p</span>&gt;Le nombre est {number}&lt;/<span style="color:#f92672">p</span>&gt;
{:catch error}
&lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;error&#34;</span>&gt;{error.message}&lt;/<span style="color:#f92672">p</span>&gt;
{/await}
</code></pre></div><p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_euj1gHznxnoBLVEjd9dGPg.png" alt=""  />
</figure></p>
<h3 id="23--gestion-des-propri√©t√©s">2.3 ‚Äî Gestion des propri√©t√©s</h3>
<p>Svelte, tout comme Angular-Vue-React, fonctionne via un syst√®me de composants et n‚Äôinnove d‚Äôailleurs gu√®re dans ce domaine. On peut ainsi cr√©er ses propres composants et les inclure dans d‚Äôautres composants en leur passant une ou plusieurs propri√©t√©s.</p>
<p>Afin d‚Äôexpliciter si une variable est une propri√©t√©, il faut la pr√©fixer par le mot-cl√© <code>export</code> dans le composant enfant :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- Composant enfant --&gt;</span>
&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">export</span> <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;world&#34;</span>;
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">h2</span>&gt;Hello {name}&lt;/<span style="color:#f92672">h2</span>&gt;
</code></pre></div><p>Nous obtenons ainsi le r√©sultat suivant :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_GthtNY5S2p33UtcdyonjmA.png" alt=""  />
</figure></p>
<blockquote>
<p>‚òùÔ∏è Il peut sembler bizarre d‚Äôemployer le mot export pour indiquer une propri√©t√© mais cela me donne l&rsquo;opportunit√© de m&rsquo;attarder sur le fonctionnent du compilateur Svelte. Ce dernier attend du JavaScript natif dans le bloc script (pars√© avec la librairie <a href="https://www.npmjs.com/package/acorn" target="_blank">acorn</a> pour les plus curieux). Toutefois, Svelte surcharge JavaScript et par cons√©quent, la s√©mantique d&rsquo;un mot-cl√© peut d√®s fois √™tre modifi√©e, ce qui est exactement le cas ici üôÇ</p>
</blockquote>
<h3 id="24--bloc-r√©actif-avec-">2.4 ‚Äî Bloc r√©actif avec $:</h3>
<p>Voici un autre exemple de d√©tournement de s√©mantique par Svelte que sont les blocs r√©actifs, d√©finis par <code>$:</code>. Ces derniers sont des portions de code qui ne seront ex√©cut√©es que si les variables qu&rsquo;ils utilisent sont modifi√©s :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;world&#34;</span>;

  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">uppercase</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
  <span style="color:#a6e22e">$</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">uppercase</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">name</span>.<span style="color:#a6e22e">toUpperCase</span>();
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">h1</span>&gt;Hello {name}!&lt;/<span style="color:#f92672">h1</span>&gt;
&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">bind:value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{name}&#34;</span> /&gt;
&lt;<span style="color:#f92672">p</span>&gt;Uppercase : {uppercase}&lt;/<span style="color:#f92672">p</span>&gt;
</code></pre></div><p>Dans cet exemple, le <code>code uppercase = name.toUpperCase()</code> ne sera ex√©cut√© que si la variable <code>name</code> est modifi√©e. Autre cas d&rsquo;usage possible, on peut suivre la modification d&rsquo;une variable avec <code>$: console.log(maVariable)</code>.</p>
<p>Le bloc r√©actif peut accueillir des cas plus complexes comme des conditions, pour une auto-compl√©tion par exemple : <code>$: if(name.length &gt; 2) fetch(...)</code>. De mani√®re g√©n√©rale, vous pouvez consid√©rer les blocs r√©actifs comme des fonctions avec toutes les possibilit√©s qu&rsquo;elles offrent üôÇ</p>
<p>En React, la fonction <code>useMemo</code> permet d&rsquo;obtenir ce m√™me comportement. Toutefois, c&rsquo;est au d√©veloppeur de d√©clarer lui-m√™me les variables √† surveiller :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">memoizedValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">useMemo</span>(() =&gt; <span style="color:#a6e22e">computeExpensiveValue</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>), [<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>]);
</code></pre></div><p>Au sein de Svelte, ces variables sont d√©duites √† la compilation et dispense le d√©veloppeur d‚Äôy r√©fl√©chir (et limite les risques d‚Äôoubli par la m√™me occasion).</p>
<blockquote>
<p>‚ùì <strong>$: est-il une syntaxe valide en JavaScript ?</strong> Tout √† fait ! Il s‚Äôagit de labels statements (servant dans les boucles) mais vu que personne ne les utilise, Svelte les a recycl√© pour ses blocs r√©actifs. Pour en savoir plus : <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Instructions/label" target="_blank">https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Instructions/label</a></p>
</blockquote>
<h3 id="25--animations">2.5 ‚Äî Animations</h3>
<p>Pour finir, Svelte nous facilite la cr√©ation d‚Äôanimations pour les √©l√©ments entrants ou sortants du DOM. Ces effets se r√©alisent via deux directives <code>in</code> et <code>out</code> dont les noms parlent d&rsquo;eux-m√™mes. Svelte dispose d√©j√† d&rsquo;animations de base, pr√©sentes dans le <em>package</em> <code>svelte/transition</code> mais il est possible de cr√©er les v√¥tres (qui seront compil√©s en CSS3 pour obtenir de meilleures performances).</p>
<p>Prenons maintenant un exemple avec celui d‚Äôun texte dont la visibilit√© d√©pend d‚Äôune case √† cocher :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#f92672">**</span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">fade</span>, <span style="color:#a6e22e">fly</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;svelte/transition&#39;</span>;<span style="color:#f92672">**</span>
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">visible</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">label</span>&gt;
  &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span> <span style="color:#a6e22e">bind:checked</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{visible}&#34;</span> /&gt;
  visible
&lt;/<span style="color:#f92672">label</span>&gt;
{#if visible} **
&lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">in:fly</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ y: 200, duration: 2000 }}&#34;</span> <span style="color:#a6e22e">out:fade</span>&gt;** Flies in, fades out&lt;/<span style="color:#f92672">p</span>&gt;
{/if}
</code></pre></div><p>Et au niveau du r√©sultat, nous obtenons ainsi :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_lGuIsHvCdnMMRNrpoewl4g.png" alt=""  />
</figure></p>
<p>Selon vos librairies, ces animations peuvent √™tre compliqu√©es √† cr√©er mais, encore une fois, Svelte nous simplifie la t√¢che et nous permet en deux lignes de code ‚Äî litt√©ralement ‚Äî de pouvoir cr√©er des contenus anim√©s.</p>
<h3 id="26--les-stores">2.6 ‚Äî Les stores</h3>
<p>Nous allons maintenant √©voquer la gestion des <em>stores</em> au sein de Svelte.</p>
<blockquote>
<p>üëâ Un store permet de d√©porter une partie des donn√©es de notre site dans un endroit tiers, la librairie la plus connue √©tant Redux, utilis√©e principalement au sein de l‚Äô√©cosyst√®me de React.</p>
</blockquote>
<h4 id="251--un-premier-store">2.5.1 ‚Äî Un premier store</h4>
<p>Pour notre premier store, nous prendrons l‚Äôexemple tr√®s inspir√© d‚Äôun compteur.</p>
<p>Au sein de Svelte, un store est un objet <code>writable</code> pr√©sent dans le package <code>svelte/store</code> qu&rsquo;il nous faut cr√©er dans un fichier JavaScript (et donc pas un fichier au format <code>.svelte</code>) :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// counter-store.js
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">writable</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;svelte/store&#34;</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">counter</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">writable</span>(<span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">counter</span>;
</code></pre></div><p>Une fois le store de notre compteur cr√©√©, avec 0 comme valeur par d√©faut, il nous faut ensuite :</p>
<ul>
<li>l‚Äôimporter dans notre composant</li>
<li>s‚Äôy abonner via la fonction <code>subscribe</code> de notre <code>writable</code> en indiquant la fonction qui sera ex√©cut√©e lors d&rsquo;une modification du store (ici, la mise √† jour d&rsquo;une variable interne au composant)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#75715e">// R√©cup√©ration du store
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">import</span> <span style="color:#a6e22e">counter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;./counter.js&#34;</span>;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">countValue</span>;
  <span style="color:#a6e22e">counter</span>.<span style="color:#a6e22e">subscribe</span>((<span style="color:#a6e22e">newStoreValue</span>) =&gt; (<span style="color:#a6e22e">countValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">newStoreValue</span>));
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">h1</span>&gt;Counter : {countValue}&lt;/<span style="color:#f92672">h1</span>&gt;
</code></pre></div><p>Malheureusement, cela n‚Äôest pas suffisant. En effet, il est aussi n√©cessaire de se d√©sinscrire du store lors de la disparition du composant afin d‚Äô√©viter une fuite m√©moire. Pour cela, nous r√©cup√©rons la fonction renvoy√©e par <code>subscribe</code> que nous appellerons dans la m√©thode <code>onDestroy</code>, entrant dans le cycle de vie d&rsquo;un composant Svelte :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">onDestroy</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;svelte&#34;</span>;
  <span style="color:#66d9ef">import</span> <span style="color:#a6e22e">counter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;./counter.js&#34;</span>;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">countValue</span>;
  <span style="color:#75715e">// R√©cup√©ration de la fonction de d√©sinscription
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">unsubscribe</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">counter</span>.<span style="color:#a6e22e">subscribe</span>(
    (<span style="color:#a6e22e">newStoreValue</span>) =&gt; (<span style="color:#a6e22e">countValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">newStoreValue</span>)
  );

  <span style="color:#75715e">// D√©sinscription du store √† la destruction du composant
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">onDestroy</span>(() =&gt; <span style="color:#a6e22e">unsubscribe</span>());
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">h1</span>&gt;Counter : {countValue}&lt;/<span style="color:#f92672">h1</span>&gt;
</code></pre></div><p>Et nous obtenons le rendu voulu :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_gjpM7PHdmXpSvnRDuzyxtg.png" alt=""  />
</figure></p>
<p>Pour interagir avec le store, deux m√©thodes sont √† notre disposition :</p>
<ul>
<li><code>update</code> : avec en param√®tre une fonction contenant la valeur courante du store</li>
<li><code>set</code> : pour remplacer le contenu du store par une nouvelle valeur</li>
</ul>
<p>Ainsi, dans notre exemple, nous allons ajouter deux boutons : le premier pour incr√©menter la valeur du store et un second pour r√©initialiser le <em>store</em> :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
	<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">onDestroy</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;svelte&#39;</span>
	<span style="color:#75715e">// R√©cup√©ration du store
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">counter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./counter.js&#39;</span>
	<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">countValue</span>;
	<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">unsubscribe</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">counter</span>.<span style="color:#a6e22e">subscribe</span>((<span style="color:#a6e22e">newStoreValue</span>) =&gt; <span style="color:#a6e22e">countValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">newStoreValue</span>)
	<span style="color:#a6e22e">onDestroy</span>(() =&gt; <span style="color:#a6e22e">unsubscribe</span>())
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">h1</span>&gt;Counter : {countValue}&lt;/<span style="color:#f92672">h1</span>&gt;
<span style="color:#75715e">&lt;!-- Ajout de deux boutons --&gt;</span>
&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">{()</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; counter.update(n =&gt; n+1)}&gt;+1&lt;/<span style="color:#f92672">button</span>&gt;
&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">{()</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; counter.set(0)}&gt;Reset&lt;/<span style="color:#f92672">button</span>&gt;
</code></pre></div><p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_oiN6gxb9-lbRhR-NRch8ig.gif" alt=""  />
</figure></p>
<h4 id="252--encore-du-sucre-syntaxique">2.5.2 ‚Äî Encore du sucre syntaxique</h4>
<p>Toutefois, nous avons √©crit beaucoup de code et Svelte, dans sa volont√© de productivit√©, nous met √† notre disposition un raccourci syntaxique. Ainsi, en pr√©fixant le nom du store avec le signe <code>$</code>, nous pouvons acc√©der et interagir directement avec le contenu du <em>store</em>.</p>
<p><code>&lt;h1&gt;Counter : {countValue}&lt;/h1&gt;</code> peut ainsi √™tre remplac√© par <code>&lt;h1&gt;Counter : {$counter}&lt;/h1&gt;</code>
Cerise sur le g√¢teau, l‚Äôajout de ce pr√©fixe nous dispense d‚Äôutiliser <code>subscribe</code> et <code>onDestroy(() =&gt; unsubscribe())</code> ü•≥</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">import</span> <span style="color:#a6e22e">counter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;./counter.js&#34;</span>;
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">h1</span>&gt;Counter : {$counter}&lt;/<span style="color:#f92672">h1</span>&gt;
</code></pre></div><p>Concernant les boutons, nous pouvons les simplifier de la mani√®re suivante :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">{()</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; $counter++}&gt;+1&lt;/<span style="color:#f92672">button</span>&gt;
&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">{()</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; $counter = 0}&gt;Reset&lt;/<span style="color:#f92672">button</span>&gt;
</code></pre></div><h4 id="253--un-store-personnalis√©">2.5.3 ‚Äî Un store personnalis√©</h4>
<p>Il est possible d‚Äôaller plus loin avec les <em>stores</em> en y ajoutant des m√©thodes personnalis√©es. En effet, les <code>writables</code> √©tant des objets JavaScript, il est possible de les encapsuler dans un objet et y ajouter vos propres m√©thodes.</p>
<p>Pour commencer, il nous faut <em>d√©structurer</em> l‚Äôobjet <code>writable</code> dans une fonction qui retournera un objet constituant notre store personnalis√© :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">writable</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;svelte/store&#34;</span>;
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">createCounterStore</span>() {
  <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">subscribe</span>, <span style="color:#a6e22e">get</span>, <span style="color:#a6e22e">update</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">writable</span>(<span style="color:#ae81ff">0</span>);
}
</code></pre></div><p>Au niveau du retour de la fonction, il nous faut obligatoirement renvoyer la m√©thode <code>subscribe</code> pour b√©n√©ficier du raccourci syntaxique <code>$</code>. Dans un second temps, nous ajouterons une premi√®re fonction <code>increment</code> qui fera appel √† <code>update</code> et une seconde fonction <code>reset</code> faisant appel √† <code>set</code>. Nous obtenons ainsi :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">writable</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;svelte/store&#34;</span>;
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">createCounterStore</span>() {
  <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">subscribe</span>, <span style="color:#a6e22e">set</span>, <span style="color:#a6e22e">update</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">writable</span>(<span style="color:#ae81ff">0</span>);
  <span style="color:#75715e">// On renvoie subscribe et nos fonctions personnalis√©es
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> {
    <span style="color:#a6e22e">subscribe</span>,
    <span style="color:#a6e22e">increment</span><span style="color:#f92672">:</span> () =&gt; <span style="color:#a6e22e">update</span>((<span style="color:#a6e22e">n</span>) =&gt; <span style="color:#a6e22e">n</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>),
    <span style="color:#a6e22e">reset</span><span style="color:#f92672">:</span> () =&gt; <span style="color:#a6e22e">set</span>(<span style="color:#ae81ff">0</span>),
  };
}
</code></pre></div><p>Pour finir avec notre <em>store</em> personnalis√©, il nous faut instancier un nouvel objet et l‚Äôexporter :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">writable</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;svelte/store&#34;</span>;
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">createCounterStore</span>() {
  <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">subscribe</span>, <span style="color:#a6e22e">set</span>, <span style="color:#a6e22e">update</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">writable</span>(<span style="color:#ae81ff">0</span>);
  <span style="color:#66d9ef">return</span> {
    <span style="color:#a6e22e">subscribe</span>,
    <span style="color:#a6e22e">increment</span><span style="color:#f92672">:</span> () =&gt; <span style="color:#a6e22e">update</span>((<span style="color:#a6e22e">n</span>) =&gt; <span style="color:#a6e22e">n</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>),
    <span style="color:#a6e22e">reset</span><span style="color:#f92672">:</span> () =&gt; <span style="color:#a6e22e">set</span>(<span style="color:#ae81ff">0</span>),
  };
}
<span style="color:#75715e">// On cr√©√© puis exporte notre nouveau store
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">counter</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">createCounterStore</span>();
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">counter</span>;
</code></pre></div><p>Au niveau des composants, il n‚Äôest plus n√©cessaire d‚Äôutiliser <code>$counter</code> pour interagir avec la valeur du <em>store</em> et nous pouvons appeler directement nos nouvelles m√©thodes (notez la disparition du <code>$</code> car nous utilisons les fonctions du store et non sa valeur üôÇ) :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">{()</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; $counter++}&gt;+1&lt;/<span style="color:#f92672">button</span>&gt;
&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">{()</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; $counter = 0}&gt;Reset&lt;/<span style="color:#f92672">button</span>&gt;~~
&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">{counter.increment}</span>&gt;+1&lt;/<span style="color:#f92672">button</span>&gt;
&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">{counter.reset}</span>&gt;Reset&lt;/<span style="color:#f92672">button</span>&gt;
</code></pre></div><p>Pour afficher le contenu du store, aucun changement √† signaler :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- Toujours valable üôÇ --&gt;</span>
&lt;<span style="color:#f92672">h1</span>&gt;Counter : {$counter} !&lt;/<span style="color:#f92672">h1</span>&gt;
</code></pre></div><hr>
<p>Il faudrait tout un livre pour explorer l‚Äôensemble des possibilit√©s offertes par Svelte mais heureusement un tutoriel est √† votre disposition √† cette adresse : <a href="https://svelte.dev/tutorial/basics" target="_blank">https://svelte.dev/tutorial/basics</a>.</p>
<p>Ce dernier, de tr√®s bonne qualit√©, va vous permettre de d√©couvrir une grande majorit√© des concepts de Svelte et vous rendre productif en environ une apr√®s-midi üôÇ</p>
<hr>
<h2 id="3--quel-avenir-pour-svelte-">3 ‚Äî Quel avenir pour Svelte ?</h2>
<p>Il est temps de prendre un peu de recul et d‚Äô√©voquer l‚Äôavenir de Svelte en commen√ßant par quelques d√©fauts.</p>
<h3 id="31--d√©fauts-de-svelte">3.1 ‚Äî D√©fauts de Svelte</h3>
<p>Malgr√© ses qualit√©s, certains d√©fauts doivent toutefois √™tre √©voqu√©s :</p>
<ul>
<li>
<p>√âloignement du JavaScript final : le code g√©n√©r√© est tr√®s diff√©rent de celui que vous √©crirez dans votre fichier <code>.svelte</code> et cela peut √™tre g√™nant notamment en cas d&rsquo;erreur dans le code g√©n√©r√© qu&rsquo;il est plus difficile √† analyser. De m√™me, certaines personnes peuvent √™tre g√™n√©es par ce principe en lui-m√™me.</p>
</li>
<li>
<p>Eco-syst√®me jeune : compar√©s √† Vue-Angular-React, les outils de d√©veloppement sont moins avanc√©s (pas de CLI) et beaucoup de librairies sur des besoins divers (formulaires, lecteurs vid√©os, modales&hellip;) mais aucun ne font l‚Äôunanimit√© -encore- dans l‚Äô√©cosyst√®me de Svelte, ce qui peut √™tre compliqu√© pour un nouveau d√©veloppeur Svelte.</p>
</li>
<li>
<p>Peu de demandes : soyons honn√™te, Svelte n‚Äôest pas encore une technologie tr√®s demand√©e pour le moment et pour cause Angular-Vue-React dominent le march√© d√ª √† leur anciennet√© (et leurs qualit√©s aussi üôÇ). Par cons√©quent, pour un d√©cideur, cela facilite les roulements au sein de leurs √©quipes et, c√¥t√© d√©veloppeurs, d√©j√† productifs dans une technologie donn√©e (et l‚Äôappr√©ciant s√ªrement), se re-former sur une nouvelle technologie n‚Äôest pas forc√©ment enviable.</p>
</li>
<li>
<p>Comme entreprises notables utilisant Svelte, on peut citer Apple (qui diffuse des offres d‚Äôemploi demandant explicitement cette comp√©tence), le <em>New York Times</em> (forc√©ment d√ª √† la pr√©sence de Rich Harris) et <a href="https://open.spotify.com/__noul__?pfhp=2c2ccb58-8a92-4713-a1c0-8b43b3090b49" target="_blank">Spotify</a> qui l‚Äôutilise notamment sur son site principal (certaines portions du site sont toutefois en React). On peut aussi citer Philips, Les Echos, <a href="https://www.chess.com/" target="_blank">Chess.com</a> ou encore Rakuten (d‚Äôautres sont visibles √† l‚Äôadresse suivante : <a href="https://svelte.dev/" target="_blank">https://svelte.dev/</a>)</p>
</li>
</ul>
<p>Bien s√ªr, certains de ces d√©fauts sont d√ªs √† la jeunesse du projet, la version 3 de Svelte √©tant sortie en avril 2019, mais gr√¢ce √† une communaut√© active sur <a href="https://discord.com/invite/yy75DKs" target="_blank">Discord</a>, esp√©rons que ces soucis dispara√Ætront un jour üòâ.</p>
<h3 id="32--trois-g√©ants-qui-√©voluent-aussi">3.2 ‚Äî Trois g√©ants qui √©voluent aussi</h3>
<p>Dans l‚Äôunivers des librairies/<em>framework front</em>, trois g√©ants sont d√©j√† pr√©sents que nous avons √©voqu√© tout au long de cet article :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_uVxuNLLwEIjdLXPm8_0ueA.png" alt=""  />
</figure></p>
<p>Et bien que Svelte utilise la compilation comme source d‚Äôinnovation, ces trois librairies √©voluent aussi et reprennent dor√©navant √† leur compte les avantages de la compilation :</p>
<ul>
<li>
<p><strong>Vue.js</strong> dans sa version 3, analysera votre code pour optimiser son <em>Virtual DOM</em> et ne conserver que les comparaisons n√©cessaires</p>
</li>
<li>
<p><strong>Angular</strong> avec Ivy, analyse aussi votre code pour diminuer drastiquement le poids du <em>bundle</em> final en retirant toutes les fonctions non-utilis√©es.</p>
</li>
<li>
<p><strong>React</strong> de son c√¥t√© n‚Äôa aucune √©volution connue bas√©e sur une analyse du code. Nous pouvons toutefois noter une exp√©rimentation d‚Äôun des cr√©ateurs de Webpack qui a tent√© de transformer du code React en √©quivalent VanillaJs. En r√©sultat, un bundle de 4.3 Ko, bien maigre compar√© au 115 Ko qu‚Äôon obtiendrait en temps normal et prouvant que la compilation pouvait avoir un avenir au sein de React. Cette exp√©rimentation est disponible √† cette adresse : <a href="https://github.com/sokra/rawact" target="_blank">https://github.com/sokra/rawact</a>.</p>
</li>
</ul>
<p>√Ä noter toutefois qu‚Äôen mai 2020, Microsoft a introduit un syst√®me de cr√©ation de sites statiques et a retenu quatre technologies pour ses tutoriels : React, Angular, Vue et&hellip; Svelte ! Un signe qui semble indiquer que Microsoft le consid√®re comme une technologie suscitant assez d‚Äôengouement pour le prendre en consid√©ration.</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_og4VcnOuM7GZhnOC1e1xJA.png" alt=""  />
</figure></p>
<h2 id="4--faq">4 ‚Äî F.A.Q</h2>
<p><strong>Comment fonctionne le routing dans un projet Svelte ?</strong></p>
<p>Il existe une myriade de librairies de routing disponibles dans Svelte mais je vais mettre les deux librairies dont j‚Äôai le plus entendu parler :</p>
<ul>
<li>
<p><a href="https://svelte.dev/blog/sveltekit-beta" target="_blank">SvelteKit</a> : le template officiel d‚Äôun projet Svelte (en alpha depuis le 23 mars 2021) et se basant sur Vite 2 et inspir√© par Nextjs. Pas de support de TypeScript pour le moment ni de SCSS ou LESS mais ils sont pr√©vus pour la version 1.0 du projet.</p>
</li>
<li>
<p><a href="https://github.com/EmilTholin/svelte-routing" target="_blank">Svelte-routing</a> : qui permet de cr√©er un syst√®me de mani√®re similaire √† React :</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span>&gt;
  &lt;<span style="color:#f92672">Route</span> <span style="color:#a6e22e">path</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;blog/:id&#34;</span> <span style="color:#a6e22e">component</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{BlogPost}&#34;</span> /&gt;
  &lt;<span style="color:#f92672">Route</span> <span style="color:#a6e22e">path</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;blog&#34;</span> <span style="color:#a6e22e">component</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{Blog}&#34;</span> /&gt;
  &lt;<span style="color:#f92672">Route</span> <span style="color:#a6e22e">path</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;about&#34;</span> <span style="color:#a6e22e">component</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{About}&#34;</span> /&gt;
  &lt;<span style="color:#f92672">Route</span> <span style="color:#a6e22e">path</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/&#34;</span>&gt;&lt;<span style="color:#f92672">Home</span> /&gt;&lt;/<span style="color:#f92672">Route</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><ul>
<li><a href="https://www.routify.dev/" target="_blank">Routify</a> : qui fonctionne par syst√®me de fichiers. La hi√©rarchie de vos fichiers correspondra ainsi √† vos URLs :</li>
</ul>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_0bt4AEc4aSA5OwzkmvGxYA.png" alt=""  />
</figure></p>
<hr>
<p><strong>Comment tester mes composants ?</strong></p>
<p>Il existe plusieurs librairies permettant de tester ces composants :</p>
<ul>
<li><a href="https://testing-library.com/docs/svelte-testing-library/example" target="_blank">https://testing-library.com/docs/svelte-testing-library/example</a></li>
<li><a href="https://nathancahill.com/dainte/introducing" target="_blank">https://nathancahill.com/dainte/introducing</a></li>
<li><a href="https://github.com/bahmutov/cypress-svelte-unit-test" target="_blank">https://github.com/bahmutov/cypress-svelte-unit-test</a></li>
</ul>
<hr>
<p><strong>Quelle est la compatibilit√© en termes de navigateur ?</strong></p>
<p>La compatibilit√© va d√©pendre de deux √©l√©ments : la compatibilit√© des fonctions internes de Svelte et de votre code.</p>
<p>Le code interne de Svelte est compatible avec Internet Explorer 11 et, bien que je n‚Äôai pas √† disposition de donn√©es pr√©cises pour les autres navigateurs, le support de IE 11 me laisse serein concernant la prise en compte de Firefox, Chrome, Safari&hellip; üôÇ</p>
<hr>
<p><strong>Peut-on ajouter Sass ?</strong></p>
<p>C‚Äôest possible mais cela n‚Äôest pas inclus dans le template Svelte par d√©faut. Pour utiliser Sass, il faut installer quelques <em>packages</em> et ajouter quelques lignes dans la configuration Rollup du projet. Exemple de <em>package</em> : <a href="https://www.npmjs.com/package/svelte-preprocess-sass" target="_blank">https://www.npmjs.com/package/svelte-preprocess-sass</a>.</p>
<hr>
<p><strong>Les stores utilisent-ils les Observables ?</strong></p>
<p>Non, au niveau interne, Svelte stocke les fonctions dans un tableau (lors du <code>subscribe</code>) et it√®re sur l&rsquo;ensemble des fonctions du tableau apr√®s un <code>update</code> ou un <code>set</code>.</p>
<hr>
<p><strong>Peut-on utiliser Redux ?</strong></p>
<p>M√™me s‚Äôil serait regrettable de ne pas profiter du fonctionnement natif des stores au sein de Svelte (et surtout du raccourci <code>$</code>), il est tout √† fait envisageable d&rsquo;inclure Redux au sein de votre projet. Redux √©tant une librairie JavaScript comme une autre apr√®s tout üôÇ</p>
<h2 id="conclusion">Conclusion</h2>
<p>L‚Äôapproche compilateur choisie par Svelte nous apporte son lot d‚Äôam√©liorations : plus de performance, poids r√©duit et le tout avec moins de code.</p>
<p>Mais, au final quel avenir pour Svelte ? Cela va d√©pendre principalement de l‚Äôengouement des d√©veloppeurs et leur volont√© de lui donner sa chance dans un projet (s√ªrement de faible envergure pour commencer). C‚Äôest d‚Äôailleurs ce que je vous conseille afin de mieux appr√©hender Svelte et d√©velopper votre propre opinion üôÇ.</p>
<p>Si vous souhaitez un retour d‚Äôexp√©rience d‚Äôune transposition d‚Äôun site React vers Svelte, je vous conseille de lire cet article de Mathieu Marchois :</p>
<p><a href="https://fairness.coop/blog/2020/sveltejs-plus-qu-une-simple-alternative-a-react-vue-angular/" target="_blank">SvelteJS, plus qu‚Äôune simple alternative √† React, Vue ou Angular</a>, o√π l‚Äôauteur explique notamment que suite √† la r√©√©criture en Svelte, le nombre de lignes du projet a chut√© de 25000 √† 8000 !</p>
<h2 id="mon-avis">Mon avis</h2>
<p>Pour ma part, j‚Äôai d√©couvert Svelte via la conf√©rence ‚ÄúRethink reactivity‚Äù qui m‚Äôa donn√© envie de m‚Äôy int√©resser plus longuement. Et apr√®s avoir parcouru le tutoriel (tr√®s bien fait, je le re-pr√©cise üòä), j‚Äôai exp√©riment√© Svelte sur des projets personnels (que je ne finis jamais‚Ä¶ üòî) et je dois avouer que l‚Äôexp√©rience d√©veloppeur me semble un grand cran au-dessus de React, malgr√© les besoins de modifier la configuration Rollup pour supporter Sass par exemple.</p>
<p>Clairement, Svelte fera parti de ma <em>stack</em> de pr√©dilection en remplacement de React, si jamais l‚Äôoccasion se pr√©sente.</p>
<h2 id="pour-aller-plus-loin-">Pour aller plus loin :</h2>
<p>La suite logique de cet article est la conf√©rence ‚ÄúRethink reactivity‚Äù o√π Rich Harris y pr√©sente la version 3 de Svelte ainsi que ses griefs contre React :</p>
<p><a href="http://www.youtube.com/watch?v=AdNJ3fydeao" title="Rethinking reactivity" target="_blank"><figure>
  <img src="http://img.youtube.com/vi/AdNJ3fydeao/0.jpg" alt="Rethinking reactivity"  />
</figure></a></p>
<ul>
<li>Tutoriel Svelte : <a href="https://svelte.dev/tutorial/basics" target="_blank">https://svelte.dev/tutorial/basics</a></li>
<li>Retour exp√©rience Svelte : <a href="https://fairness.coop/blog/2020/sveltejs-plus-qu-une-simple-alternative-a-react-vue-angular/" target="_blank">SvelteJS, plus qu‚Äôune simple alternative √† React, Vue ou Angular</a></li>
<li>The Return of ‚ÄòWrite Less, Do More‚Äô by Rich Harris | JSCAMP 2019 : <a href="https://youtu.be/BzX4aTRPzno" target="_blank">https://youtu.be/BzX4aTRPzno</a></li>
<li>Let‚Äôs Learn Svelte (with Rich Harris) ‚Äî Learn With Jason : <a href="https://youtu.be/ogXETl_I0Dg" target="_blank">https://youtu.be/ogXETl_I0Dg</a></li>
<li>Svelte Society Day 2020 ‚Äî Tan Li Hau: The Svelte Compiler : <a href="https://youtu.be/e2pGS1eqja8" target="_blank">https://youtu.be/e2pGS1eqja8</a></li>
<li>Site de Svelte : <a href="https://svelte.dev/" target="_blank">https://svelte.dev/</a></li>
<li>Documentation de SvelteKit : <a href="https://kit.svelte.dev/docs" target="_blank">https://kit.svelte.dev/docs</a></li>
<li>Exemples de r√©alisations avec Svelte : <a href="https://svelte.dev/examples" target="_blank">https://svelte.dev/examples</a></li>
<li>Projets r√©alis√©s avec Svelte : <a href="https://madewithsvelte.com/" target="_blank">https://madewithsvelte.com/</a></li>
<li>Sur Twitter : <a href="https://twitter.com/SvelteSociety" target="_blank">@SvelteSociety</a> <a href="https://twitter.com/sveltejs" target="_blank">@sveltejs</a> <a href="https://twitter.com/Rich_Harris" target="_blank">@Rich_Harris</a> <a href="https://twitter.com/lihautan" target="_blank">@lihautan</a></li>
</ul>
<hr>
<p>Pour revoir la vid√©o dans son format d‚Äôorigine, je vous invite √† consulter la vid√©o suivante :</p>
<p><a href="http://www.youtube.com/watch?v=ePFbaU4htsQ" title="SFEIR Talks #10 - Svelte : un concurrent de poids face √† React-Angular-Vue ?
" target="_blank"><figure>
  <img src="http://img.youtube.com/vi/ePFbaU4htsQ/0.jpg" alt="SFEIR Talks #10 - Svelte : un concurrent de poids face √† React-Angular-Vue ?
"  />
</figure></a></p>

</div>
</div>
</article>
</div>
</main><script src="/js/dark-mode.js"></script>

</body>
</html>
