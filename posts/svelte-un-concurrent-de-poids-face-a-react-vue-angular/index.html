<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Svelte : un concurrent de poids face Ã  React-Vue-Angular ? | Alexandre CANTIN - Blog personnel</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.92.1" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="alexandre, cantin, blog, personnel">
<meta name="description" content="Svelte bouscule lâ€™Ã©co-systÃ¨me des librairies JavaScript actuellement dominÃ© par le trio React, Vue et Angular. Mais que vaut Svelte comparÃ© Ã  ces â€¦">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="stylesheet" type="text/css" media="screen" href="/css/normalize.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/css/main.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/css/all.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/css/custom.css" />




<meta property="og:title" content="Svelte : un concurrent de poids face Ã  React-Vue-Angular ?" />
<meta property="og:description" content="Svelte bouscule lâ€™Ã©co-systÃ¨me des librairies JavaScript actuellement dominÃ© par le trio React, Vue et Angular. Mais que vaut Svelte comparÃ© Ã  ces â€œconcurrentsâ€ et pourquoi parvient-il Ã  sÃ©duire de plus en plus de dÃ©veloppeurs ? RÃ©ponse dans cet article !
Cet article est une transcription de ma prÃ©sentation de Svelte rÃ©alisÃ©e le 2 juin 2020 dans le cadre du 10Ã¨me SFEIR Talk, dont la vidÃ©o est disponible en fin dâ€™article. Jâ€™ai toutefois pris la libertÃ© dâ€™ajouter des explications supplÃ©mentaires que je ne pouvais faire Ã  lâ€™oral pour des contraintes de temps; ainsi que les questions post-prÃ©sentation." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://alexandre-cantin.github.io/posts/svelte-un-concurrent-de-poids-face-a-react-vue-angular/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-02T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-08-02T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Svelte : un concurrent de poids face Ã  React-Vue-Angular ?"/>
<meta name="twitter:description" content="Svelte bouscule lâ€™Ã©co-systÃ¨me des librairies JavaScript actuellement dominÃ© par le trio React, Vue et Angular. Mais que vaut Svelte comparÃ© Ã  ces â€œconcurrentsâ€ et pourquoi parvient-il Ã  sÃ©duire de plus en plus de dÃ©veloppeurs ? RÃ©ponse dans cet article !
Cet article est une transcription de ma prÃ©sentation de Svelte rÃ©alisÃ©e le 2 juin 2020 dans le cadre du 10Ã¨me SFEIR Talk, dont la vidÃ©o est disponible en fin dâ€™article. Jâ€™ai toutefois pris la libertÃ© dâ€™ajouter des explications supplÃ©mentaires que je ne pouvais faire Ã  lâ€™oral pour des contraintes de temps; ainsi que les questions post-prÃ©sentation."/>

<meta itemprop="name" content="Svelte : un concurrent de poids face Ã  React-Vue-Angular ?">
<meta itemprop="description" content="Svelte bouscule lâ€™Ã©co-systÃ¨me des librairies JavaScript actuellement dominÃ© par le trio React, Vue et Angular. Mais que vaut Svelte comparÃ© Ã  ces â€œconcurrentsâ€ et pourquoi parvient-il Ã  sÃ©duire de plus en plus de dÃ©veloppeurs ? RÃ©ponse dans cet article !
Cet article est une transcription de ma prÃ©sentation de Svelte rÃ©alisÃ©e le 2 juin 2020 dans le cadre du 10Ã¨me SFEIR Talk, dont la vidÃ©o est disponible en fin dâ€™article. Jâ€™ai toutefois pris la libertÃ© dâ€™ajouter des explications supplÃ©mentaires que je ne pouvais faire Ã  lâ€™oral pour des contraintes de temps; ainsi que les questions post-prÃ©sentation."><meta itemprop="datePublished" content="2021-08-02T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-08-02T00:00:00+00:00" />
<meta itemprop="wordCount" content="4568">
<meta itemprop="keywords" content="" />
</head>
<body>
<header>
<div id="titletext">
<h2 id="titleonly"><a href="https://alexandre-cantin.github.io/">Alexandre CANTIN - Blog personnel</a></h2>
</div>
<div id="title-social">
<div id="social">
<nav><ul>
<li><a href="https://twitter.com/Cantin_Al"><i title="Twitter" class="icons fab fa-twitter"></i></a></li>
<li><a><i title="Switch Dark Mode" class="dark-mode icons fas fa-moon"></i></a></li>
</ul></nav>
</div>
</div>
</header>
<main>
<div class="post">
<article>
<div class="post-header">
<div class="meta">
<div class="date">
<span class="day">02</span>
<span class="rest">Aug 2021</span>
</div>
</div>
<div class="matter">
<h1 class="title">Svelte : un concurrent de poids face Ã  React-Vue-Angular ?</h1>
<p class="post-meta">
<span class="post-meta">

&nbsp;<i class="fas fa-clock"></i>&nbsp;22&nbsp;minutes


 
&nbsp;| &nbsp;

<i class="fas fa-book"></i>&nbsp;4568&nbsp;words


</span>

</p>
</div>
</div>
<div class="markdown">
<p>Svelte bouscule lâ€™Ã©co-systÃ¨me des librairies JavaScript actuellement dominÃ© par le trio React, Vue et Angular. Mais que vaut Svelte comparÃ© Ã  ces â€œconcurrentsâ€ et pourquoi parvient-il Ã  sÃ©duire de plus en plus de dÃ©veloppeurs ? RÃ©ponse dans cet article !</p>
<p>Cet article est une transcription de ma prÃ©sentation de Svelte rÃ©alisÃ©e le 2 juin 2020 dans le cadre du 10Ã¨me SFEIR Talk, dont la vidÃ©o est disponible en fin dâ€™article. Jâ€™ai toutefois pris la libertÃ© dâ€™ajouter des explications supplÃ©mentaires que je ne pouvais faire Ã  lâ€™oral pour des contraintes de temps; ainsi que les questions post-prÃ©sentation.</p>
<p>Allons-y !</p>
<h2 id="1--pourquoi-svelte-">1- Pourquoi Svelte ?</h2>
<p>Nous allons commencer par la question la plus basique qui soit : quâ€™est-ce que Svelte ?</p>
<p><a href="https://svelte.dev/" target="_blank">Svelte</a> est un â€œcompilateur <em>front</em>â€ qui permet de crÃ©er des pages web dynamiques comme nous le faisons dÃ©jÃ  avec Angular-React-Vue.js (ou dâ€™autres bibliothÃ¨ques/frameworks dans le monde trÃ¨s â€” voire trop â€” vaste du JavaScript).</p>
<p>Pour dÃ©signer Svelte, jâ€™ai utilisÃ© le terme de â€œcompilateur frontâ€ et, en effet, contrairement Ã  React-Vue-Angular, qui embarquent des librairies dans le navigateur du client, Svelte est un compilateur et, comme on va le voir, cela va changer pas mal de choses ğŸ™‚</p>
<h3 id="11--pourquoi-svelte-est-un-compilateur-">1.1 â€” Pourquoi Svelte est un compilateur ?</h3>
<p>Pour rÃ©pondre Ã  cette question, nous devons tout dâ€™abord nous attarder sur lâ€™origine de Svelte et parler de son crÃ©ateur Rich Harris (<a href="https://twitter.com/Rich_Harris" target="_blank">@Rich_Harris</a>).</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_1NDCpMUDlHcsg0QwTiJIQg.jpeg" alt="Rich Harris, le crÃ©ateur de Svelte"  />
</figure></p>
<p>Rich Harris nâ€™est pas un inconnu dans lâ€™univers du JavaScript car on le connaÃ®t dÃ©jÃ  en tant que crÃ©ateur de <a href="https://rollupjs.org/guide/en/" target="_blank"><em>Rollup</em></a>, une alternative Ã  <a href="https://webpack.js.org/" target="_blank"><em>Webpack</em></a>.</p>
<p>Aux alentours de 2016, Rich Harris travaille en tant que <em>graphics editors</em> (comprendre â€œcrÃ©ateur de reprÃ©sentations graphiquesâ€ ou <em>Data Visualisation</em>) au <em>New York Times</em> (poste quâ€™il occupe toujours). Pour la rÃ©alisation de ses graphiques animÃ©s, Rich Harris utilise Ã  cette Ã©poque <a href="https://reactjs.org/" target="_blank">React</a> et il en est trÃ¨s mÃ©content car il se heurte souvent aux limites des performances de cette bibliothÃ¨que (et de son <em>Virtual DOM</em>), au point quâ€™il rÃ©flÃ©chit Ã  dÃ©velopper sa propre alternative.</p>
<p>Quâ€™est-ce que Rich Harris reproche Ã  React et surtout Ã  son <em>Virtual DOM</em> ? Pour y rÃ©pondre, intÃ©ressons-nous au fonctionnement du Virtual DOM avec cet exemple simple dâ€™un champ texte dont la valeur est recopiÃ©e dans une balise <code>&lt;p&gt;</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">React</span>, { <span style="color:#a6e22e">useState</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;react&#34;</span>;
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">App</span>() {
  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">setName</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>(<span style="color:#e6db74">&#34;&#34;</span>);
  <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">updateName</span>(<span style="color:#a6e22e">e</span>) {
    <span style="color:#a6e22e">setName</span>(<span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">value</span>);
  }
  <span style="color:#66d9ef">return</span> (
    <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">div</span><span style="color:#f92672">&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">h1</span><span style="color:#f92672">&gt;</span><span style="color:#a6e22e">Votre</span> <span style="color:#a6e22e">nom</span> <span style="color:#f92672">:&lt;</span><span style="color:#960050;background-color:#1e0010">/h1&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">p</span><span style="color:#f92672">&gt;</span>{<span style="color:#a6e22e">name</span>}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/p&gt;</span>
      <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">onInput</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">updateName</span>} <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">name</span>} <span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/div&gt;</span>
  );
}
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">App</span>;
</code></pre></div><p>Et dont le rÃ©sultat serait le suivant :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_3sxYGeH4bzHmj6Grgp_ETQ.gif" alt=""  />
</figure></p>
<p>Si lâ€™on sâ€™intÃ©resse au fonctionnement de React en cas dâ€™Ã©criture dans le champ texte, nous avons la succession dâ€™Ã©vÃ¨nements suivante :</p>
<ol>
<li>CrÃ©ation dâ€™un nouveau <em>Virtual DOM</em></li>
</ol>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_fkTrfHaWI0sNBWW_c48g-w.png" alt=""  />
</figure></p>
<ol start="2">
<li>Comparaison de lâ€™ancien <em>Virtual DOM</em> avec le nouveau pour dÃ©terminer les mises Ã  jour nÃ©cessaires</li>
</ol>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_0qpP3Zwlv3eS_u6G0b1r_w.png" alt=""  />
</figure></p>
<ol start="3">
<li>Mise Ã  jour effective du DOM</li>
</ol>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_CvL_w_GAtidbbPNQwD3q0g.png" alt=""  />
</figure></p>
<p>Comme on peut le voir Ã  lâ€™Ã©tape 2, React a procÃ©dÃ© Ã  7 comparaisons alors que 2 dâ€™entre elles nâ€™Ã©taient rÃ©ellement nÃ©cessaires. Ce nombre de comparaisons augmentera dâ€™ailleurs proportionnellement Ã  la taille de notre projet et ralentira notre application au bout dâ€™un certain moment ; nous imposant alors de recourir Ã  des procÃ©dÃ©s dâ€™optimisation du Virtual DOM comme <em>PureComponent</em>, <em>useCallback</em>, <em>useMemo</em> ou encore <em>shouldComponentUpdate</em>.</p>
<p>Toutefois, nous serons tous dâ€™accord sur le fait que la solution idÃ©ale serait de passer directement de la modification du champ texte Ã  la mise Ã  jour du DOM, sans les Ã©tapes 1 et 2 :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_ARl9dEolEvk3H61AhXYBFA.gif" alt=""  />
</figure></p>
<p>Figurez-vous que câ€™est exactement lâ€™objectif visÃ© par Svelte !</p>
<p>Malheureusement, dÃ©terminer lâ€™ensemble des consÃ©quences sur le DOM est impossible sans une connaissance accrue de lâ€™application et nÃ©cessiterait donc lâ€™intervention au cas par cas du dÃ©veloppeur, occasionnant une charge de travail consÃ©quente pour lui&hellip; ğŸ˜” Ce fut dâ€™ailleurs la grande innovation apportÃ©e par React et Angular : automatisez la gÃ©nÃ©ration du DOM et limiter le travail du dÃ©veloppeur Ã  la modification de lâ€™Ã©tat de ses variables.</p>
<p>Par consÃ©quent, comment dÃ©terminer les actions minimales Ã  effectuer sur le DOM suite Ã  lâ€™action de lâ€™utilisateur sans lâ€™intervention du dÃ©veloppeur ? Câ€™est lÃ  que le concept de compilateur prend tout son sens.</p>
<p>Ainsi, nous Ã©crirons nos composants dans des fichiers au format <code>.svelte</code>. Le compilateur Svelte va ensuite analyser notre code, le comprendre, dÃ©terminer les mises Ã  jour du DOM nÃ©cessaires aprÃ¨s Ã  la modification d&rsquo;une variable et gÃ©nÃ©rer un fichier <code>.js</code> aux performances optimales :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_o5OFbfVTUoVjbs8p9I5DUg.gif" alt=""  />
</figure></p>
<h3 id="12--svelte-et-la-performance">1.2 â€” Svelte et la performance</h3>
<p>Maintenant si on regarde le mÃªme composant Ã©crit en Svelte, nous ne serons que peu dÃ©paysÃ©s par rapport Ã  son Ã©quivalent React :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
  <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">updateName</span>(<span style="color:#a6e22e">e</span>) {
    <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">value</span>;
  }
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">h1</span>&gt;Votre nom :&lt;/<span style="color:#f92672">h1</span>&gt;
&lt;<span style="color:#f92672">p</span>&gt;{name}&lt;/<span style="color:#f92672">p</span>&gt;
&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">on:input</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{updateName}&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{name}&#34;</span> /&gt;
</code></pre></div><p>Nous retrouvons la mÃªme logique :</p>
<ul>
<li>une balise <code>&lt;p&gt;</code> affichant le contenu de la variable <code>name</code></li>
<li>un <code>&lt;input /&gt;</code> qui appelle une fonction <code>updateName</code> suite Ã  une action <code>on:input</code></li>
<li>une fonction <code>updateName</code> qui met Ã  jour la valeur de <code>name</code> avec le contenu de l&rsquo;input</li>
</ul>
<p>Et on obtient un rÃ©sultat similaire :
<figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_3sxYGeH4bzHmj6Grgp_ETQ.gif" alt=""  />
</figure></p>
<p>Toutefois, si on regarde le code source gÃ©nÃ©rÃ© par Svelte et notamment le bloc rÃ©servÃ© Ã  la mise du DOM :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_SD8L2dhcPA4rgGY_is01VQ.png" alt=""  />
</figure></p>
<p>On remarque que seules deux opÃ©rations sur le DOM ont Ã©tÃ© crÃ©Ã©es :</p>
<ul>
<li>celle de la mise Ã  jour de la balise <code>&lt;p&gt;</code> (correspondant Ã  une variable <code>t2</code>)</li>
<li>celle de la mise Ã  jour de lâ€™attribut <code>value</code> de l&rsquo;input</li>
</ul>
<p>De plus, ces deux opÃ©rations sont optimales : les valeurs sont mises Ã  jour directement sans actions intermÃ©diaires. On obtient ainsi une performance maximale, impossible en React.</p>
<blockquote>
<p>âš ï¸ Nâ€™interprÃ©tez pas mal mes paroles : je nâ€™ai pas dit que React est lent. Svelte explore simplement une autre voie lui permettant dâ€™aller plus loin en termes de performance ğŸ™‚.</p>
</blockquote>
<h3 id="13--svelte-et-le-sucre-syntaxique">1.3 â€” Svelte et le sucre syntaxique</h3>
<p>Toutefois, soyons honnÃªte, nous nous retrouvons trÃ¨s rarement dans le cas oÃ¹ des performances extrÃªmes sont requises et choisir Svelte juste pour cela serait peu pertinent. Mais lâ€™approche compilateur apporte un autre avantage qui est le â€œsucre syntaxiqueâ€.</p>
<p>Il sâ€™agit dâ€™un ensemble de raccourcis (pas des centaines rassurez-vous ğŸ™‚) qui va vous permettre dâ€™Ã©crire moins de code et bÃ©nÃ©ficier de tous les avantages que cela implique : moins de code Ã  produire (et donc une amÃ©lioration de votre productivitÃ©) mais aussi moins de code Ã  maintenir et comprendre.</p>
<p>Par exemple, en partant du code prÃ©cÃ©dent, il est possible de le raccourcir en liant directement la valeur de lâ€™attribut <code>value</code> de l&rsquo;input avec la variable <code>name</code> via une directive appelÃ©e <code>bind</code>.</p>
<p>Il est donc possible de simplifier lâ€™exemple prÃ©cÃ©dent en retirant le <code>on:input={updateName}</code> et la fonction <code>updateName</code> par la mÃªme occasion. Nous obtenons ainsi le mÃªme rÃ©sultat mais en plus court :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">h1</span>&gt;Votre nom :&lt;/<span style="color:#f92672">h1</span>&gt;
&lt;<span style="color:#f92672">p</span>&gt;{name}&lt;/<span style="color:#f92672">p</span>&gt;
&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#960050;background-color:#1e0010">**</span><span style="color:#a6e22e">bind:</span><span style="color:#960050;background-color:#1e0010">**</span><span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{name}&#34;</span> /&gt;
</code></pre></div><p>Câ€™est une raison, si ce nâ€™est la raison, qui explique lâ€™apprÃ©ciation de Svelte auprÃ¨s des dÃ©veloppeurs, car on Ã©crit tout simplement moins de code et on est par consÃ©quent plus productif ğŸ™‚</p>
<p>Voici, par ailleurs, la comparaison dâ€™un mÃªme composant, rÃ©alisant lâ€™addition entre deux nombres puis affichant le rÃ©sultat, et on ne peut que constater que la version de Svelte est plus lÃ©gÃ¨re :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_CCaPfes8QkkpjWNKx6H_kA.png" alt=""  />
</figure></p>
<p>Selon Rich Harris, un composant Svelte est en moyenne 20â€“30% moins long que son Ã©quivalent React.</p>
<h2 id="14--svelte-et-le-poids-du-bundle">1.4 â€” Svelte et le poids du bundle</h2>
<p>Dernier point important concernant Svelte est le fait quâ€™il produise un <em>bundle</em> final avec un poids trÃ¨s faible. En effet, bien que Svelte pÃ¨se environ 50 Ko dans son ensemble, seules les fonctions utilisÃ©es seront incluses dans le <em>bundle</em> final. Ainsi, contrairement Ã  Angular-React-Vue, nous nâ€™avons pas une librairie prÃ©-inclue qui alourdit notre application avant mÃªme que le moindre code nâ€™y soit inclus.</p>
<p>Ainsi, dans lâ€™exemple prÃ©cÃ©dent, nous nous retrouvons avec un poids global de 3,1 Ko (sans compression).</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_hmnTwDMJbb1Er1lyaVoXHA.png" alt=""  />
</figure></p>
<p>Dâ€™ailleurs, si on sâ€™intÃ©resse au <code>package.json</code> du template par dÃ©faut d&rsquo;un projet <a href="https://github.com/sveltejs/template/blob/master/package.json" target="_blank">Svelte</a>, on remarque qu&rsquo;il n&rsquo;y a que des paquets servant pour le dÃ©veloppement et aucun n&rsquo;est conservÃ© dans le bundle de production :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_rVPWIbg5xPqJIC2b2FGHTg.png" alt=""  />
</figure></p>
<p>Note : le package <code>sirv-cli</code> sert comme serveur de fichier et peut donc Ãªtre dÃ©placÃ© dans les <code>devDependencies</code> sans souci ğŸ™‚ (mais doit toutefois Ãªtre conservÃ© pour l&rsquo;environnement de dÃ©veloppement).</p>
<p>Comme nous venons de le voir dans cette partie, Svelte se distingue sur trois aspects :</p>
<ul>
<li>Performance accrue</li>
<li>Un poids final rÃ©duit</li>
<li>&hellip;le tout avec moins de code</li>
</ul>
<p>Je pourrais mÃªme ajouter un quatriÃ¨me point qui serait sa simplicitÃ©. En effet, une des volontÃ©s derriÃ¨re Svelte, est de se rapprocher le plus possible du HTML et laisser toute la complexitÃ© Ãªtre gÃ©rÃ©e par le compilateur (optimisation et implÃ©mentation des raccourcis syntaxiques).</p>
<hr>
<h2 id="2--tour-dhorizon-de-svelte">2 â€” Tour dâ€™horizon de Svelte</h2>
<p>Nous allons dorÃ©navant procÃ©der Ã  un tour dâ€™horizon des fonctionnalitÃ©s proposÃ©es par Svelte, forcÃ©ment non exhaustif.</p>
<h3 id="21--anatomie-dun-composant">2.1 â€” Anatomie dâ€™un composant</h3>
<p>Un composant Svelte se divise en trois parties :</p>
<ul>
<li><code>&lt;script&gt;</code> pour la partie logique, pour les fonctions et les variables</li>
<li><code>&lt;style&gt;</code> pour la partie design</li>
</ul>
<p>Tout le reste sera considÃ©rÃ© comme la partie template et sera donc destinÃ© Ã  accueillir (majoritairement) du HTML
<figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_0RKJQ4yrITW93CAuytNODA.png" alt=""  />
</figure></p>
<p>Ici, la volontÃ© est dâ€™Ãªtre le plus proche possible dâ€™un fichier HTML tout en gardant que le strict nÃ©cessaire. En ajoutant, les balises <code>html</code>, <code>head</code> et <code>body</code>, on pourrait mÃªme se croire Ã  l&rsquo;intÃ©rieur d&rsquo;un fichier HTML :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_lriOOUkFuc6a1cY55Xgb9w.png" alt=""  />
</figure></p>
<blockquote>
<p>âš ï¸ <strong>Est-il possible de rÃ©partir ces trois zones dans des fichiers distincts ?</strong> Non, ce nâ€™est pas possible et ce nâ€™est pas dans la philosophie de Svelte. Bien que la logique de sÃ©paration des diffÃ©rents blocs puisse Ãªtre louable, cela crÃ©ait un effet de bord. Il devient possible dâ€™inclure un mÃªme style ou logique dans des composants diffÃ©rents et entraÃ®ne un souci quâ€™on rencontre trÃ¨s souvent (notamment en CSS) : on ne sait plus si un bloc de code est utilisÃ© ou non au sein de son application. Pour pallier Ã  cela, Svelte impose que les fonctions/style co-habitent avec leur template pour mieux suivre leur zone dâ€™impact.</p>
</blockquote>
<h3 id="22--style">2.2 â€” Style</h3>
<p>Vous savez faire du CSS ? Bonne nouvelle, vous savez donc dÃ©jÃ  designer vos composants Svelte ! En effet, Svelte accepte du CSS natif dans le bloc <code>&lt;style&gt;</code> (un support de Sass ou Less reste toutefois possible) :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_dvOa9AhhgzJsN2iHnM_xXA.png" alt=""  />
</figure></p>
<p>Toutefois, le compilateur Svelte va encapsuler ce style avec une classe CSS gÃ©nÃ©rÃ©e alÃ©atoirement, pour sâ€™assurer que votre style nâ€™affectera pas dâ€™autres composants :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_SItiqptpoqSk5lo3t93hLQ.png" alt=""  />
</figure></p>
<h3 id="23--templating">2.3 â€” Templating</h3>
<h4 id="231--conditions">2.3.1 â€” Conditions</h4>
<p>Svelte nous permet bien entendu de modifier le rendu du composant en fonction de conditions exprimÃ©es entre accolades :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">number</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
&lt;/<span style="color:#f92672">script</span>&gt;
{#if number &lt; <span style="color:#f92672">0</span> <span style="color:#960050;background-color:#1e0010">}</span>
<span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">p</span>&gt;NÃ©gatif&lt;/<span style="color:#f92672">p</span>&gt;
{:else if number &gt; 0 }
&lt;<span style="color:#f92672">p</span>&gt;Positif&lt;/<span style="color:#f92672">p</span>&gt;
{:else}
&lt;<span style="color:#f92672">p</span>&gt;Ã‰gal Ã  0&lt;/<span style="color:#f92672">p</span>&gt;
{/if}
</code></pre></div><p>Ces conditions respectent les mÃªmes rÃ¨gles dâ€™Ã©criture que celles du JavaScript.</p>
<h4 id="232--boucles">2.3.2 â€” Boucles</h4>
<p>Il est aussi possible dâ€™itÃ©rer Ã  travers une collection via <code>{#each myCollection as myValue, index}</code></p>
<p>Ã€ noter que Svelte prÃ©voit aussi une alternative <code>{:else}</code> afin de gÃ©rer plus facilement le cas oÃ¹ notre collection serait vide.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">numbers</span> <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>];
&lt;/<span style="color:#f92672">script</span>&gt;
{#each numbers as number, index}
&lt;<span style="color:#f92672">p</span>&gt;{index} =&gt; {number}&lt;/<span style="color:#f92672">p</span>&gt;
{:else}
&lt;<span style="color:#f92672">p</span>&gt;Liste vide&lt;/<span style="color:#f92672">p</span>&gt;
{/each}
</code></pre></div><p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_FlTtfttcm-y4X5QDVCBsHQ.png" alt=""  />
</figure></p>
<p>Le <em>destructuring</em> est aussi possible directement aprÃ¨s le <code>as</code> :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> [
    { <span style="color:#a6e22e">year</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2019&#34;</span>, <span style="color:#a6e22e">count</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;30&#34;</span> },
    { <span style="color:#a6e22e">year</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2020&#34;</span>, <span style="color:#a6e22e">count</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;35&#34;</span> },
  ];
&lt;/<span style="color:#f92672">script</span>&gt;
{#each data as { year, count }}
&lt;<span style="color:#f92672">p</span>&gt;{year} =&gt; {count}&lt;/<span style="color:#f92672">p</span>&gt;
{/each}
</code></pre></div><p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_9IaTxxry2DHM4RaRZrDA7g.png" alt=""  />
</figure></p>
<h4 id="233--promesses">2.3.3 â€” Promesses</h4>
<p>Svelte met aussi Ã  disposition une syntaxe <code>{#await}</code> faisant varier l&rsquo;affichage d&rsquo;un composant en fonction du statut d&rsquo;une promesse (en cours, terminÃ©e ou Ã©chouÃ©e) :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">{#await promise}
&lt;<span style="color:#f92672">p</span>&gt;...&lt;/<span style="color:#f92672">p</span>&gt;
{:then number}
&lt;<span style="color:#f92672">p</span>&gt;Le nombre est {number}&lt;/<span style="color:#f92672">p</span>&gt;
{:catch error}
&lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;error&#34;</span>&gt;{error.message}&lt;/<span style="color:#f92672">p</span>&gt;
{/await}
</code></pre></div><p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_euj1gHznxnoBLVEjd9dGPg.png" alt=""  />
</figure></p>
<h3 id="23--gestion-des-propriÃ©tÃ©s">2.3 â€” Gestion des propriÃ©tÃ©s</h3>
<p>Svelte, tout comme Angular-Vue-React, fonctionne via un systÃ¨me de composants et nâ€™innove dâ€™ailleurs guÃ¨re dans ce domaine. On peut ainsi crÃ©er ses propres composants et les inclure dans dâ€™autres composants en leur passant une ou plusieurs propriÃ©tÃ©s.</p>
<p>Afin dâ€™expliciter si une variable est une propriÃ©tÃ©, il faut la prÃ©fixer par le mot-clÃ© <code>export</code> dans le composant enfant :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- Composant enfant --&gt;</span>
&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">export</span> <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;world&#34;</span>;
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">h2</span>&gt;Hello {name}&lt;/<span style="color:#f92672">h2</span>&gt;
</code></pre></div><p>Nous obtenons ainsi le rÃ©sultat suivant :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_GthtNY5S2p33UtcdyonjmA.png" alt=""  />
</figure></p>
<blockquote>
<p>â˜ï¸ Il peut sembler bizarre dâ€™employer le mot export pour indiquer une propriÃ©tÃ© mais cela me donne l&rsquo;opportunitÃ© de m&rsquo;attarder sur le fonctionnent du compilateur Svelte. Ce dernier attend du JavaScript natif dans le bloc script (parsÃ© avec la librairie <a href="https://www.npmjs.com/package/acorn" target="_blank">acorn</a> pour les plus curieux). Toutefois, Svelte surcharge JavaScript et par consÃ©quent, la sÃ©mantique d&rsquo;un mot-clÃ© peut dÃ¨s fois Ãªtre modifiÃ©e, ce qui est exactement le cas ici ğŸ™‚</p>
</blockquote>
<h3 id="24--bloc-rÃ©actif-avec-">2.4 â€” Bloc rÃ©actif avec $:</h3>
<p>Voici un autre exemple de dÃ©tournement de sÃ©mantique par Svelte que sont les blocs rÃ©actifs, dÃ©finis par <code>$:</code>. Ces derniers sont des portions de code qui ne seront exÃ©cutÃ©es que si les variables qu&rsquo;ils utilisent sont modifiÃ©s :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;world&#34;</span>;

  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">uppercase</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
  <span style="color:#a6e22e">$</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">uppercase</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">name</span>.<span style="color:#a6e22e">toUpperCase</span>();
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">h1</span>&gt;Hello {name}!&lt;/<span style="color:#f92672">h1</span>&gt;
&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">bind:value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{name}&#34;</span> /&gt;
&lt;<span style="color:#f92672">p</span>&gt;Uppercase : {uppercase}&lt;/<span style="color:#f92672">p</span>&gt;
</code></pre></div><p>Dans cet exemple, le <code>code uppercase = name.toUpperCase()</code> ne sera exÃ©cutÃ© que si la variable <code>name</code> est modifiÃ©e. Autre cas d&rsquo;usage possible, on peut suivre la modification d&rsquo;une variable avec <code>$: console.log(maVariable)</code>.</p>
<p>Le bloc rÃ©actif peut accueillir des cas plus complexes comme des conditions, pour une auto-complÃ©tion par exemple : <code>$: if(name.length &gt; 2) fetch(...)</code>. De maniÃ¨re gÃ©nÃ©rale, vous pouvez considÃ©rer les blocs rÃ©actifs comme des fonctions avec toutes les possibilitÃ©s qu&rsquo;elles offrent ğŸ™‚</p>
<p>En React, la fonction <code>useMemo</code> permet d&rsquo;obtenir ce mÃªme comportement. Toutefois, c&rsquo;est au dÃ©veloppeur de dÃ©clarer lui-mÃªme les variables Ã  surveiller :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">memoizedValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">useMemo</span>(() =&gt; <span style="color:#a6e22e">computeExpensiveValue</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>), [<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>]);
</code></pre></div><p>Au sein de Svelte, ces variables sont dÃ©duites Ã  la compilation et dispense le dÃ©veloppeur dâ€™y rÃ©flÃ©chir (et limite les risques dâ€™oubli par la mÃªme occasion).</p>
<blockquote>
<p>â“ <strong>$: est-il une syntaxe valide en JavaScript ?</strong> Tout Ã  fait ! Il sâ€™agit de labels statements (servant dans les boucles) mais vu que personne ne les utilise, Svelte les a recyclÃ© pour ses blocs rÃ©actifs. Pour en savoir plus : <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Instructions/label" target="_blank">https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Instructions/label</a></p>
</blockquote>
<h3 id="25--animations">2.5 â€” Animations</h3>
<p>Pour finir, Svelte nous facilite la crÃ©ation dâ€™animations pour les Ã©lÃ©ments entrants ou sortants du DOM. Ces effets se rÃ©alisent via deux directives <code>in</code> et <code>out</code> dont les noms parlent d&rsquo;eux-mÃªmes. Svelte dispose dÃ©jÃ  d&rsquo;animations de base, prÃ©sentes dans le <em>package</em> <code>svelte/transition</code> mais il est possible de crÃ©er les vÃ´tres (qui seront compilÃ©s en CSS3 pour obtenir de meilleures performances).</p>
<p>Prenons maintenant un exemple avec celui dâ€™un texte dont la visibilitÃ© dÃ©pend dâ€™une case Ã  cocher :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#f92672">**</span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">fade</span>, <span style="color:#a6e22e">fly</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;svelte/transition&#39;</span>;<span style="color:#f92672">**</span>
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">visible</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">label</span>&gt;
  &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span> <span style="color:#a6e22e">bind:checked</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{visible}&#34;</span> /&gt;
  visible
&lt;/<span style="color:#f92672">label</span>&gt;
{#if visible} **
&lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">in:fly</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ y: 200, duration: 2000 }}&#34;</span> <span style="color:#a6e22e">out:fade</span>&gt;** Flies in, fades out&lt;/<span style="color:#f92672">p</span>&gt;
{/if}
</code></pre></div><p>Et au niveau du rÃ©sultat, nous obtenons ainsi :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_lGuIsHvCdnMMRNrpoewl4g.png" alt=""  />
</figure></p>
<p>Selon vos librairies, ces animations peuvent Ãªtre compliquÃ©es Ã  crÃ©er mais, encore une fois, Svelte nous simplifie la tÃ¢che et nous permet en deux lignes de code â€” littÃ©ralement â€” de pouvoir crÃ©er des contenus animÃ©s.</p>
<h3 id="26--les-stores">2.6 â€” Les stores</h3>
<p>Nous allons maintenant Ã©voquer la gestion des <em>stores</em> au sein de Svelte.</p>
<blockquote>
<p>ğŸ‘‰ Un store permet de dÃ©porter une partie des donnÃ©es de notre site dans un endroit tiers, la librairie la plus connue Ã©tant Redux, utilisÃ©e principalement au sein de lâ€™Ã©cosystÃ¨me de React.</p>
</blockquote>
<h4 id="251--un-premier-store">2.5.1 â€” Un premier store</h4>
<p>Pour notre premier store, nous prendrons lâ€™exemple trÃ¨s inspirÃ© dâ€™un compteur.</p>
<p>Au sein de Svelte, un store est un objet <code>writable</code> prÃ©sent dans le package <code>svelte/store</code> qu&rsquo;il nous faut crÃ©er dans un fichier JavaScript (et donc pas un fichier au format <code>.svelte</code>) :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// counter-store.js
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">writable</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;svelte/store&#34;</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">counter</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">writable</span>(<span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">counter</span>;
</code></pre></div><p>Une fois le store de notre compteur crÃ©Ã©, avec 0 comme valeur par dÃ©faut, il nous faut ensuite :</p>
<ul>
<li>lâ€™importer dans notre composant</li>
<li>sâ€™y abonner via la fonction <code>subscribe</code> de notre <code>writable</code> en indiquant la fonction qui sera exÃ©cutÃ©e lors d&rsquo;une modification du store (ici, la mise Ã  jour d&rsquo;une variable interne au composant)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#75715e">// RÃ©cupÃ©ration du store
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">import</span> <span style="color:#a6e22e">counter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;./counter.js&#34;</span>;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">countValue</span>;
  <span style="color:#a6e22e">counter</span>.<span style="color:#a6e22e">subscribe</span>((<span style="color:#a6e22e">newStoreValue</span>) =&gt; (<span style="color:#a6e22e">countValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">newStoreValue</span>));
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">h1</span>&gt;Counter : {countValue}&lt;/<span style="color:#f92672">h1</span>&gt;
</code></pre></div><p>Malheureusement, cela nâ€™est pas suffisant. En effet, il est aussi nÃ©cessaire de se dÃ©sinscrire du store lors de la disparition du composant afin dâ€™Ã©viter une fuite mÃ©moire. Pour cela, nous rÃ©cupÃ©rons la fonction renvoyÃ©e par <code>subscribe</code> que nous appellerons dans la mÃ©thode <code>onDestroy</code>, entrant dans le cycle de vie d&rsquo;un composant Svelte :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">onDestroy</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;svelte&#34;</span>;
  <span style="color:#66d9ef">import</span> <span style="color:#a6e22e">counter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;./counter.js&#34;</span>;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">countValue</span>;
  <span style="color:#75715e">// RÃ©cupÃ©ration de la fonction de dÃ©sinscription
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">unsubscribe</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">counter</span>.<span style="color:#a6e22e">subscribe</span>(
    (<span style="color:#a6e22e">newStoreValue</span>) =&gt; (<span style="color:#a6e22e">countValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">newStoreValue</span>)
  );

  <span style="color:#75715e">// DÃ©sinscription du store Ã  la destruction du composant
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">onDestroy</span>(() =&gt; <span style="color:#a6e22e">unsubscribe</span>());
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">h1</span>&gt;Counter : {countValue}&lt;/<span style="color:#f92672">h1</span>&gt;
</code></pre></div><p>Et nous obtenons le rendu voulu :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_gjpM7PHdmXpSvnRDuzyxtg.png" alt=""  />
</figure></p>
<p>Pour interagir avec le store, deux mÃ©thodes sont Ã  notre disposition :</p>
<ul>
<li><code>update</code> : avec en paramÃ¨tre une fonction contenant la valeur courante du store</li>
<li><code>set</code> : pour remplacer le contenu du store par une nouvelle valeur</li>
</ul>
<p>Ainsi, dans notre exemple, nous allons ajouter deux boutons : le premier pour incrÃ©menter la valeur du store et un second pour rÃ©initialiser le <em>store</em> :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
	<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">onDestroy</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;svelte&#39;</span>
	<span style="color:#75715e">// RÃ©cupÃ©ration du store
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">counter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./counter.js&#39;</span>
	<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">countValue</span>;
	<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">unsubscribe</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">counter</span>.<span style="color:#a6e22e">subscribe</span>((<span style="color:#a6e22e">newStoreValue</span>) =&gt; <span style="color:#a6e22e">countValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">newStoreValue</span>)
	<span style="color:#a6e22e">onDestroy</span>(() =&gt; <span style="color:#a6e22e">unsubscribe</span>())
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">h1</span>&gt;Counter : {countValue}&lt;/<span style="color:#f92672">h1</span>&gt;
<span style="color:#75715e">&lt;!-- Ajout de deux boutons --&gt;</span>
&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">{()</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; counter.update(n =&gt; n+1)}&gt;+1&lt;/<span style="color:#f92672">button</span>&gt;
&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">{()</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; counter.set(0)}&gt;Reset&lt;/<span style="color:#f92672">button</span>&gt;
</code></pre></div><p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_oiN6gxb9-lbRhR-NRch8ig.gif" alt=""  />
</figure></p>
<h4 id="252--encore-du-sucre-syntaxique">2.5.2 â€” Encore du sucre syntaxique</h4>
<p>Toutefois, nous avons Ã©crit beaucoup de code et Svelte, dans sa volontÃ© de productivitÃ©, nous met Ã  notre disposition un raccourci syntaxique. Ainsi, en prÃ©fixant le nom du store avec le signe <code>$</code>, nous pouvons accÃ©der et interagir directement avec le contenu du <em>store</em>.</p>
<p><code>&lt;h1&gt;Counter : {countValue}&lt;/h1&gt;</code> peut ainsi Ãªtre remplacÃ© par <code>&lt;h1&gt;Counter : {$counter}&lt;/h1&gt;</code>
Cerise sur le gÃ¢teau, lâ€™ajout de ce prÃ©fixe nous dispense dâ€™utiliser <code>subscribe</code> et <code>onDestroy(() =&gt; unsubscribe())</code> ğŸ¥³</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">import</span> <span style="color:#a6e22e">counter</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;./counter.js&#34;</span>;
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">h1</span>&gt;Counter : {$counter}&lt;/<span style="color:#f92672">h1</span>&gt;
</code></pre></div><p>Concernant les boutons, nous pouvons les simplifier de la maniÃ¨re suivante :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">{()</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; $counter++}&gt;+1&lt;/<span style="color:#f92672">button</span>&gt;
&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">{()</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; $counter = 0}&gt;Reset&lt;/<span style="color:#f92672">button</span>&gt;
</code></pre></div><h4 id="253--un-store-personnalisÃ©">2.5.3 â€” Un store personnalisÃ©</h4>
<p>Il est possible dâ€™aller plus loin avec les <em>stores</em> en y ajoutant des mÃ©thodes personnalisÃ©es. En effet, les <code>writables</code> Ã©tant des objets JavaScript, il est possible de les encapsuler dans un objet et y ajouter vos propres mÃ©thodes.</p>
<p>Pour commencer, il nous faut <em>dÃ©structurer</em> lâ€™objet <code>writable</code> dans une fonction qui retournera un objet constituant notre store personnalisÃ© :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">writable</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;svelte/store&#34;</span>;
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">createCounterStore</span>() {
  <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">subscribe</span>, <span style="color:#a6e22e">get</span>, <span style="color:#a6e22e">update</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">writable</span>(<span style="color:#ae81ff">0</span>);
}
</code></pre></div><p>Au niveau du retour de la fonction, il nous faut obligatoirement renvoyer la mÃ©thode <code>subscribe</code> pour bÃ©nÃ©ficier du raccourci syntaxique <code>$</code>. Dans un second temps, nous ajouterons une premiÃ¨re fonction <code>increment</code> qui fera appel Ã  <code>update</code> et une seconde fonction <code>reset</code> faisant appel Ã  <code>set</code>. Nous obtenons ainsi :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">writable</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;svelte/store&#34;</span>;
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">createCounterStore</span>() {
  <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">subscribe</span>, <span style="color:#a6e22e">set</span>, <span style="color:#a6e22e">update</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">writable</span>(<span style="color:#ae81ff">0</span>);
  <span style="color:#75715e">// On renvoie subscribe et nos fonctions personnalisÃ©es
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> {
    <span style="color:#a6e22e">subscribe</span>,
    <span style="color:#a6e22e">increment</span><span style="color:#f92672">:</span> () =&gt; <span style="color:#a6e22e">update</span>((<span style="color:#a6e22e">n</span>) =&gt; <span style="color:#a6e22e">n</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>),
    <span style="color:#a6e22e">reset</span><span style="color:#f92672">:</span> () =&gt; <span style="color:#a6e22e">set</span>(<span style="color:#ae81ff">0</span>),
  };
}
</code></pre></div><p>Pour finir avec notre <em>store</em> personnalisÃ©, il nous faut instancier un nouvel objet et lâ€™exporter :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">writable</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;svelte/store&#34;</span>;
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">createCounterStore</span>() {
  <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">subscribe</span>, <span style="color:#a6e22e">set</span>, <span style="color:#a6e22e">update</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">writable</span>(<span style="color:#ae81ff">0</span>);
  <span style="color:#66d9ef">return</span> {
    <span style="color:#a6e22e">subscribe</span>,
    <span style="color:#a6e22e">increment</span><span style="color:#f92672">:</span> () =&gt; <span style="color:#a6e22e">update</span>((<span style="color:#a6e22e">n</span>) =&gt; <span style="color:#a6e22e">n</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>),
    <span style="color:#a6e22e">reset</span><span style="color:#f92672">:</span> () =&gt; <span style="color:#a6e22e">set</span>(<span style="color:#ae81ff">0</span>),
  };
}
<span style="color:#75715e">// On crÃ©Ã© puis exporte notre nouveau store
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">counter</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">createCounterStore</span>();
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">counter</span>;
</code></pre></div><p>Au niveau des composants, il nâ€™est plus nÃ©cessaire dâ€™utiliser <code>$counter</code> pour interagir avec la valeur du <em>store</em> et nous pouvons appeler directement nos nouvelles mÃ©thodes (notez la disparition du <code>$</code> car nous utilisons les fonctions du store et non sa valeur ğŸ™‚) :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">{()</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; $counter++}&gt;+1&lt;/<span style="color:#f92672">button</span>&gt;
&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">{()</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; $counter = 0}&gt;Reset&lt;/<span style="color:#f92672">button</span>&gt;~~
&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">{counter.increment}</span>&gt;+1&lt;/<span style="color:#f92672">button</span>&gt;
&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">{counter.reset}</span>&gt;Reset&lt;/<span style="color:#f92672">button</span>&gt;
</code></pre></div><p>Pour afficher le contenu du store, aucun changement Ã  signaler :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- Toujours valable ğŸ™‚ --&gt;</span>
&lt;<span style="color:#f92672">h1</span>&gt;Counter : {$counter} !&lt;/<span style="color:#f92672">h1</span>&gt;
</code></pre></div><hr>
<p>Il faudrait tout un livre pour explorer lâ€™ensemble des possibilitÃ©s offertes par Svelte mais heureusement un tutoriel est Ã  votre disposition Ã  cette adresse : <a href="https://svelte.dev/tutorial/basics" target="_blank">https://svelte.dev/tutorial/basics</a>.</p>
<p>Ce dernier, de trÃ¨s bonne qualitÃ©, va vous permettre de dÃ©couvrir une grande majoritÃ© des concepts de Svelte et vous rendre productif en environ une aprÃ¨s-midi ğŸ™‚</p>
<hr>
<h2 id="3--quel-avenir-pour-svelte-">3 â€” Quel avenir pour Svelte ?</h2>
<p>Il est temps de prendre un peu de recul et dâ€™Ã©voquer lâ€™avenir de Svelte en commenÃ§ant par quelques dÃ©fauts.</p>
<h3 id="31--dÃ©fauts-de-svelte">3.1 â€” DÃ©fauts de Svelte</h3>
<p>MalgrÃ© ses qualitÃ©s, certains dÃ©fauts doivent toutefois Ãªtre Ã©voquÃ©s :</p>
<ul>
<li>
<p>Ã‰loignement du JavaScript final : le code gÃ©nÃ©rÃ© est trÃ¨s diffÃ©rent de celui que vous Ã©crirez dans votre fichier <code>.svelte</code> et cela peut Ãªtre gÃªnant notamment en cas d&rsquo;erreur dans le code gÃ©nÃ©rÃ© qu&rsquo;il est plus difficile Ã  analyser. De mÃªme, certaines personnes peuvent Ãªtre gÃªnÃ©es par ce principe en lui-mÃªme.</p>
</li>
<li>
<p>Eco-systÃ¨me jeune : comparÃ©s Ã  Vue-Angular-React, les outils de dÃ©veloppement sont moins avancÃ©s (pas de CLI) et beaucoup de librairies sur des besoins divers (formulaires, lecteurs vidÃ©os, modales&hellip;) mais aucun ne font lâ€™unanimitÃ© -encore- dans lâ€™Ã©cosystÃ¨me de Svelte, ce qui peut Ãªtre compliquÃ© pour un nouveau dÃ©veloppeur Svelte.</p>
</li>
<li>
<p>Peu de demandes : soyons honnÃªte, Svelte nâ€™est pas encore une technologie trÃ¨s demandÃ©e pour le moment et pour cause Angular-Vue-React dominent le marchÃ© dÃ» Ã  leur anciennetÃ© (et leurs qualitÃ©s aussi ğŸ™‚). Par consÃ©quent, pour un dÃ©cideur, cela facilite les roulements au sein de leurs Ã©quipes et, cÃ´tÃ© dÃ©veloppeurs, dÃ©jÃ  productifs dans une technologie donnÃ©e (et lâ€™apprÃ©ciant sÃ»rement), se re-former sur une nouvelle technologie nâ€™est pas forcÃ©ment enviable.</p>
</li>
<li>
<p>Comme entreprises notables utilisant Svelte, on peut citer Apple (qui diffuse des offres dâ€™emploi demandant explicitement cette compÃ©tence), le <em>New York Times</em> (forcÃ©ment dÃ» Ã  la prÃ©sence de Rich Harris) et <a href="https://open.spotify.com/__noul__?pfhp=2c2ccb58-8a92-4713-a1c0-8b43b3090b49" target="_blank">Spotify</a> qui lâ€™utilise notamment sur son site principal (certaines portions du site sont toutefois en React). On peut aussi citer Philips, Les Echos, <a href="https://www.chess.com/" target="_blank">Chess.com</a> ou encore Rakuten (dâ€™autres sont visibles Ã  lâ€™adresse suivante : <a href="https://svelte.dev/" target="_blank">https://svelte.dev/</a>)</p>
</li>
</ul>
<p>Bien sÃ»r, certains de ces dÃ©fauts sont dÃ»s Ã  la jeunesse du projet, la version 3 de Svelte Ã©tant sortie en avril 2019, mais grÃ¢ce Ã  une communautÃ© active sur <a href="https://discord.com/invite/yy75DKs" target="_blank">Discord</a>, espÃ©rons que ces soucis disparaÃ®tront un jour ğŸ˜‰.</p>
<h3 id="32--trois-gÃ©ants-qui-Ã©voluent-aussi">3.2 â€” Trois gÃ©ants qui Ã©voluent aussi</h3>
<p>Dans lâ€™univers des librairies/<em>framework front</em>, trois gÃ©ants sont dÃ©jÃ  prÃ©sents que nous avons Ã©voquÃ© tout au long de cet article :</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_uVxuNLLwEIjdLXPm8_0ueA.png" alt=""  />
</figure></p>
<p>Et bien que Svelte utilise la compilation comme source dâ€™innovation, ces trois librairies Ã©voluent aussi et reprennent dorÃ©navant Ã  leur compte les avantages de la compilation :</p>
<ul>
<li>
<p><strong>Vue.js</strong> dans sa version 3, analysera votre code pour optimiser son <em>Virtual DOM</em> et ne conserver que les comparaisons nÃ©cessaires</p>
</li>
<li>
<p><strong>Angular</strong> avec Ivy, analyse aussi votre code pour diminuer drastiquement le poids du <em>bundle</em> final en retirant toutes les fonctions non-utilisÃ©es.</p>
</li>
<li>
<p><strong>React</strong> de son cÃ´tÃ© nâ€™a aucune Ã©volution connue basÃ©e sur une analyse du code. Nous pouvons toutefois noter une expÃ©rimentation dâ€™un des crÃ©ateurs de Webpack qui a tentÃ© de transformer du code React en Ã©quivalent VanillaJs. En rÃ©sultat, un bundle de 4.3 Ko, bien maigre comparÃ© au 115 Ko quâ€™on obtiendrait en temps normal et prouvant que la compilation pouvait avoir un avenir au sein de React. Cette expÃ©rimentation est disponible Ã  cette adresse : <a href="https://github.com/sokra/rawact" target="_blank">https://github.com/sokra/rawact</a>.</p>
</li>
</ul>
<p>Ã€ noter toutefois quâ€™en mai 2020, Microsoft a introduit un systÃ¨me de crÃ©ation de sites statiques et a retenu quatre technologies pour ses tutoriels : React, Angular, Vue et&hellip; Svelte ! Un signe qui semble indiquer que Microsoft le considÃ¨re comme une technologie suscitant assez dâ€™engouement pour le prendre en considÃ©ration.</p>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_og4VcnOuM7GZhnOC1e1xJA.png" alt=""  />
</figure></p>
<h2 id="4--faq">4 â€” F.A.Q</h2>
<p><strong>Comment fonctionne le routing dans un projet Svelte ?</strong></p>
<p>Il existe une myriade de librairies de routing disponibles dans Svelte mais je vais mettre les deux librairies dont jâ€™ai le plus entendu parler :</p>
<ul>
<li>
<p><a href="https://svelte.dev/blog/sveltekit-beta" target="_blank">SvelteKit</a> : le template officiel dâ€™un projet Svelte (en alpha depuis le 23 mars 2021) et se basant sur Vite 2 et inspirÃ© par Nextjs. Pas de support de TypeScript pour le moment ni de SCSS ou LESS mais ils sont prÃ©vus pour la version 1.0 du projet.</p>
</li>
<li>
<p><a href="https://github.com/EmilTholin/svelte-routing" target="_blank">Svelte-routing</a> : qui permet de crÃ©er un systÃ¨me de maniÃ¨re similaire Ã  React :</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span>&gt;
  &lt;<span style="color:#f92672">Route</span> <span style="color:#a6e22e">path</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;blog/:id&#34;</span> <span style="color:#a6e22e">component</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{BlogPost}&#34;</span> /&gt;
  &lt;<span style="color:#f92672">Route</span> <span style="color:#a6e22e">path</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;blog&#34;</span> <span style="color:#a6e22e">component</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{Blog}&#34;</span> /&gt;
  &lt;<span style="color:#f92672">Route</span> <span style="color:#a6e22e">path</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;about&#34;</span> <span style="color:#a6e22e">component</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{About}&#34;</span> /&gt;
  &lt;<span style="color:#f92672">Route</span> <span style="color:#a6e22e">path</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/&#34;</span>&gt;&lt;<span style="color:#f92672">Home</span> /&gt;&lt;/<span style="color:#f92672">Route</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><ul>
<li><a href="https://www.routify.dev/" target="_blank">Routify</a> : qui fonctionne par systÃ¨me de fichiers. La hiÃ©rarchie de vos fichiers correspondra ainsi Ã  vos URLs :</li>
</ul>
<p><figure>
  <img src="/articles/svelte-un-concurrent-de-poids-face-a-react-vue-angular/1_0bt4AEc4aSA5OwzkmvGxYA.png" alt=""  />
</figure></p>
<hr>
<p><strong>Comment tester mes composants ?</strong></p>
<p>Il existe plusieurs librairies permettant de tester ces composants :</p>
<ul>
<li><a href="https://testing-library.com/docs/svelte-testing-library/example" target="_blank">https://testing-library.com/docs/svelte-testing-library/example</a></li>
<li><a href="https://nathancahill.com/dainte/introducing" target="_blank">https://nathancahill.com/dainte/introducing</a></li>
<li><a href="https://github.com/bahmutov/cypress-svelte-unit-test" target="_blank">https://github.com/bahmutov/cypress-svelte-unit-test</a></li>
</ul>
<hr>
<p><strong>Quelle est la compatibilitÃ© en termes de navigateur ?</strong></p>
<p>La compatibilitÃ© va dÃ©pendre de deux Ã©lÃ©ments : la compatibilitÃ© des fonctions internes de Svelte et de votre code.</p>
<p>Le code interne de Svelte est compatible avec Internet Explorer 11 et, bien que je nâ€™ai pas Ã  disposition de donnÃ©es prÃ©cises pour les autres navigateurs, le support de IE 11 me laisse serein concernant la prise en compte de Firefox, Chrome, Safari&hellip; ğŸ™‚</p>
<hr>
<p><strong>Peut-on ajouter Sass ?</strong></p>
<p>Câ€™est possible mais cela nâ€™est pas inclus dans le template Svelte par dÃ©faut. Pour utiliser Sass, il faut installer quelques <em>packages</em> et ajouter quelques lignes dans la configuration Rollup du projet. Exemple de <em>package</em> : <a href="https://www.npmjs.com/package/svelte-preprocess-sass" target="_blank">https://www.npmjs.com/package/svelte-preprocess-sass</a>.</p>
<hr>
<p><strong>Les stores utilisent-ils les Observables ?</strong></p>
<p>Non, au niveau interne, Svelte stocke les fonctions dans un tableau (lors du <code>subscribe</code>) et itÃ¨re sur l&rsquo;ensemble des fonctions du tableau aprÃ¨s un <code>update</code> ou un <code>set</code>.</p>
<hr>
<p><strong>Peut-on utiliser Redux ?</strong></p>
<p>MÃªme sâ€™il serait regrettable de ne pas profiter du fonctionnement natif des stores au sein de Svelte (et surtout du raccourci <code>$</code>), il est tout Ã  fait envisageable d&rsquo;inclure Redux au sein de votre projet. Redux Ã©tant une librairie JavaScript comme une autre aprÃ¨s tout ğŸ™‚</p>
<h2 id="conclusion">Conclusion</h2>
<p>Lâ€™approche compilateur choisie par Svelte nous apporte son lot dâ€™amÃ©liorations : plus de performance, poids rÃ©duit et le tout avec moins de code.</p>
<p>Mais, au final quel avenir pour Svelte ? Cela va dÃ©pendre principalement de lâ€™engouement des dÃ©veloppeurs et leur volontÃ© de lui donner sa chance dans un projet (sÃ»rement de faible envergure pour commencer). Câ€™est dâ€™ailleurs ce que je vous conseille afin de mieux apprÃ©hender Svelte et dÃ©velopper votre propre opinion ğŸ™‚.</p>
<p>Si vous souhaitez un retour dâ€™expÃ©rience dâ€™une transposition dâ€™un site React vers Svelte, je vous conseille de lire cet article de Mathieu Marchois :</p>
<p><a href="https://fairness.coop/blog/2020/sveltejs-plus-qu-une-simple-alternative-a-react-vue-angular/" target="_blank">SvelteJS, plus quâ€™une simple alternative Ã  React, Vue ou Angular</a>, oÃ¹ lâ€™auteur explique notamment que suite Ã  la rÃ©Ã©criture en Svelte, le nombre de lignes du projet a chutÃ© de 25000 Ã  8000 !</p>
<h2 id="mon-avis">Mon avis</h2>
<p>Pour ma part, jâ€™ai dÃ©couvert Svelte via la confÃ©rence â€œRethink reactivityâ€ qui mâ€™a donnÃ© envie de mâ€™y intÃ©resser plus longuement. Et aprÃ¨s avoir parcouru le tutoriel (trÃ¨s bien fait, je le re-prÃ©cise ğŸ˜Š), jâ€™ai expÃ©rimentÃ© Svelte sur des projets personnels (que je ne finis jamaisâ€¦ ğŸ˜”) et je dois avouer que lâ€™expÃ©rience dÃ©veloppeur me semble un grand cran au-dessus de React, malgrÃ© les besoins de modifier la configuration Rollup pour supporter Sass par exemple.</p>
<p>Clairement, Svelte fera parti de ma <em>stack</em> de prÃ©dilection en remplacement de React, si jamais lâ€™occasion se prÃ©sente.</p>
<h2 id="pour-aller-plus-loin-">Pour aller plus loin :</h2>
<p>La suite logique de cet article est la confÃ©rence â€œRethink reactivityâ€ oÃ¹ Rich Harris y prÃ©sente la version 3 de Svelte ainsi que ses griefs contre React :</p>
<p><a href="http://www.youtube.com/watch?v=AdNJ3fydeao" title="Rethinking reactivity" target="_blank"><figure>
  <img src="http://img.youtube.com/vi/AdNJ3fydeao/0.jpg" alt="Rethinking reactivity"  />
</figure></a></p>
<ul>
<li>Tutoriel Svelte : <a href="https://svelte.dev/tutorial/basics" target="_blank">https://svelte.dev/tutorial/basics</a></li>
<li>Retour expÃ©rience Svelte : <a href="https://fairness.coop/blog/2020/sveltejs-plus-qu-une-simple-alternative-a-react-vue-angular/" target="_blank">SvelteJS, plus quâ€™une simple alternative Ã  React, Vue ou Angular</a></li>
<li>The Return of â€˜Write Less, Do Moreâ€™ by Rich Harris | JSCAMP 2019 : <a href="https://youtu.be/BzX4aTRPzno" target="_blank">https://youtu.be/BzX4aTRPzno</a></li>
<li>Letâ€™s Learn Svelte (with Rich Harris) â€” Learn With Jason : <a href="https://youtu.be/ogXETl_I0Dg" target="_blank">https://youtu.be/ogXETl_I0Dg</a></li>
<li>Svelte Society Day 2020 â€” Tan Li Hau: The Svelte Compiler : <a href="https://youtu.be/e2pGS1eqja8" target="_blank">https://youtu.be/e2pGS1eqja8</a></li>
<li>Site de Svelte : <a href="https://svelte.dev/" target="_blank">https://svelte.dev/</a></li>
<li>Documentation de SvelteKit : <a href="https://kit.svelte.dev/docs" target="_blank">https://kit.svelte.dev/docs</a></li>
<li>Exemples de rÃ©alisations avec Svelte : <a href="https://svelte.dev/examples" target="_blank">https://svelte.dev/examples</a></li>
<li>Projets rÃ©alisÃ©s avec Svelte : <a href="https://madewithsvelte.com/" target="_blank">https://madewithsvelte.com/</a></li>
<li>Sur Twitter : <a href="https://twitter.com/SvelteSociety" target="_blank">@SvelteSociety</a> <a href="https://twitter.com/sveltejs" target="_blank">@sveltejs</a> <a href="https://twitter.com/Rich_Harris" target="_blank">@Rich_Harris</a> <a href="https://twitter.com/lihautan" target="_blank">@lihautan</a></li>
</ul>
<hr>
<p>Pour revoir la vidÃ©o dans son format dâ€™origine, je vous invite Ã  consulter la vidÃ©o suivante :</p>
<p><a href="http://www.youtube.com/watch?v=ePFbaU4htsQ" title="SFEIR Talks #10 - Svelte : un concurrent de poids face Ã  React-Angular-Vue ?
" target="_blank"><figure>
  <img src="http://img.youtube.com/vi/ePFbaU4htsQ/0.jpg" alt="SFEIR Talks #10 - Svelte : un concurrent de poids face Ã  React-Angular-Vue ?
"  />
</figure></a></p>

</div>
</div>
</article>
</div>
</main><script src="/js/dark-mode.js"></script>

</body>
</html>
